const parseEvents = require('../../../ffc-ahwr-mi-reporting/mi-report/create-rows')

const applyEvents = [{
  partitionKey: '205000200',
  rowKey: '205000200_1677078980670',
  timestamp: '2023-02-22T15:16:21.99797Z',
  SessionId: '1573b19c-3d4f-4fe4-b46c-3a252a21a5ac',
  EventType: 'farmerApplyData-organisation',
  EventRaised: '2023-02-22T15:16:20.670Z',
  EventBy: '1100000210@email.com',
  Payload: '{"type":"farmerApplyData-organisation","message":"Session set for farmerApplyData and organisation.","data":{"organisation":{"farmerName":"Mr Farmer 210","name":"My Farm Batch 7 Ltd","sbi":"105000200","crn":"1100000210","address":"123 Main Road, Covenham St. Bartholomew, Louth, LN11 0PF, United Kingdom","email":"1100000210@email.com"}},"raisedBy":"1100000210@email.com","raisedOn":"2023-02-22T15:16:20.670Z"}',
  Status: 'success'
},
{
  partitionKey: '205000200',
  rowKey: '205000200_1677078982407',
  timestamp: '2023-02-22T15:16:23.2292654Z',
  SessionId: '1573b19c-3d4f-4fe4-b46c-3a252a21a5ac',
  EventType: 'farmerApplyData-confirmCheckDetails',
  EventRaised: '2023-02-22T15:16:22.407Z',
  EventBy: '1100000210@email.com',
  Payload: '{"type":"farmerApplyData-confirmCheckDetails","message":"Session set for farmerApplyData and confirmCheckDetails.","data":{"confirmCheckDetails":"yes"},"raisedBy":"1100000210@email.com","raisedOn":"2023-02-22T15:16:22.407Z"}',
  Status: 'success'
},
{
  partitionKey: '205000200',
  rowKey: '205000200_1677078983862',
  timestamp: '2023-02-22T15:16:25.3430526Z',
  SessionId: '1573b19c-3d4f-4fe4-b46c-3a252a21a5ac',
  EventType: 'farmerApplyData-whichReview',
  EventRaised: '2023-02-22T15:16:23.862Z',
  EventBy: '1100000210@email.com',
  Payload: '{"type":"farmerApplyData-whichReview","message":"Session set for farmerApplyData and whichReview.","data":{"whichReview":"dairy"},"raisedBy":"1100000210@email.com","raisedOn":"2023-02-22T15:16:23.862Z"}',
  Status: 'success'
},
{
  partitionKey: '205000200',
  rowKey: '205000200_1677078986305',
  timestamp: '2023-02-22T15:16:27.247962Z',
  SessionId: '1573b19c-3d4f-4fe4-b46c-3a252a21a5ac',
  EventType: 'farmerApplyData-eligibleSpecies',
  EventRaised: '2023-02-22T15:16:26.305Z',
  EventBy: '1100000210@email.com',
  Payload: '{"type":"farmerApplyData-eligibleSpecies","message":"Session set for farmerApplyData and eligibleSpecies.","data":{"eligibleSpecies":"yes"},"raisedBy":"1100000210@email.com","raisedOn":"2023-02-22T15:16:26.305Z"}',
  Status: 'success'
},
{
  partitionKey: '205000200',
  rowKey: '205000200_1677078987488',
  timestamp: '2023-02-22T15:16:28.4402785Z',
  SessionId: '1573b19c-3d4f-4fe4-b46c-3a252a21a5ac',
  EventType: 'farmerApplyData-reference',
  EventRaised: '2023-02-22T15:16:27.488Z',
  EventBy: '1100000210@email.com',
  Payload: '{"type":"farmerApplyData-reference","message":"Session set for farmerApplyData and reference.","data":{"reference":null},"raisedBy":"1100000210@email.com","raisedOn":"2023-02-22T15:16:27.488Z"}',
  Status: 'success'
},
{
  partitionKey: '205000200',
  rowKey: '205000200_1677078989725',
  timestamp: '2023-02-22T15:16:30.4581233Z',
  SessionId: '1573b19c-3d4f-4fe4-b46c-3a252a21a5ac',
  EventType: 'farmerApplyData-declaration',
  EventRaised: '2023-02-22T15:16:29.725Z',
  EventBy: '1100000210@email.com',
  Payload: '{"type":"farmerApplyData-declaration","message":"Session set for farmerApplyData and declaration.","data":{"declaration":true},"raisedBy":"1100000210@email.com","raisedOn":"2023-02-22T15:16:29.725Z"}',
  Status: 'success'
},
{
  partitionKey: '205000200',
  rowKey: '205000200_1677078989732',
  timestamp: '2023-02-22T15:16:30.5550674Z',
  SessionId: '1573b19c-3d4f-4fe4-b46c-3a252a21a5ac',
  EventType: 'farmerApplyData-offerStatus',
  EventRaised: '2023-02-22T15:16:29.732Z',
  EventBy: '1100000210@email.com',
  Payload: '{"type":"farmerApplyData-offerStatus","message":"Session set for farmerApplyData and offerStatus.","data":{"offerStatus":"accepted"},"raisedBy":"1100000210@email.com","raisedOn":"2023-02-22T15:16:29.732Z"}',
  Status: 'success'
},
{
  partitionKey: '205000200',
  rowKey: '205000200_1677078994174',
  timestamp: '2023-02-22T15:16:35.1744216Z',
  SessionId: '1573b19c-3d4f-4fe4-b46c-3a252a21a5ac',
  EventType: 'farmerApplyData-reference',
  EventRaised: '2023-02-22T15:16:34.174Z',
  EventBy: '1100000210@email.com',
  Payload: '{"type":"farmerApplyData-reference","message":"Session set for farmerApplyData and reference.","data":{"reference":"AHWR-FF86-2C53"},"raisedBy":"1100000210@email.com","raisedOn":"2023-02-22T15:16:34.174Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079319571',
  timestamp: '2023-02-22T15:22:00.3549918Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'farmerApplyData-organisation',
  EventRaised: '2023-02-22T15:21:59.571Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"farmerApplyData-organisation","message":"Session set for farmerApplyData and organisation.","data":{"organisation":{"farmerName":"Mr Farmer 212","name":"My Farm Batch 7 Ltd","sbi":"105000202","crn":"1100000212","address":"125 Main Road, Covenham St. Bartholomew, Louth, LN11 0PF, United Kingdom","email":"1100000212@email.com"}},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:21:59.571Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079321331',
  timestamp: '2023-02-22T15:22:02.195937Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'farmerApplyData-confirmCheckDetails',
  EventRaised: '2023-02-22T15:22:01.331Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"farmerApplyData-confirmCheckDetails","message":"Session set for farmerApplyData and confirmCheckDetails.","data":{"confirmCheckDetails":"yes"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:01.331Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079322603',
  timestamp: '2023-02-22T15:22:03.2393397Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'farmerApplyData-whichReview',
  EventRaised: '2023-02-22T15:22:02.603Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"farmerApplyData-whichReview","message":"Session set for farmerApplyData and whichReview.","data":{"whichReview":"pigs"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:02.603Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079324757',
  timestamp: '2023-02-22T15:22:05.3651216Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'farmerApplyData-eligibleSpecies',
  EventRaised: '2023-02-22T15:22:04.757Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"farmerApplyData-eligibleSpecies","message":"Session set for farmerApplyData and eligibleSpecies.","data":{"eligibleSpecies":"yes"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:04.757Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079325928',
  timestamp: '2023-02-22T15:22:06.5314566Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'farmerApplyData-reference',
  EventRaised: '2023-02-22T15:22:05.928Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"farmerApplyData-reference","message":"Session set for farmerApplyData and reference.","data":{"reference":null},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:05.928Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079328506',
  timestamp: '2023-02-22T15:22:09.215917Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'farmerApplyData-declaration',
  EventRaised: '2023-02-22T15:22:08.506Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"farmerApplyData-declaration","message":"Session set for farmerApplyData and declaration.","data":{"declaration":true},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:08.506Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079328513',
  timestamp: '2023-02-22T15:22:09.1689447Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'farmerApplyData-offerStatus',
  EventRaised: '2023-02-22T15:22:08.513Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"farmerApplyData-offerStatus","message":"Session set for farmerApplyData and offerStatus.","data":{"offerStatus":"accepted"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:08.513Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079331638',
  timestamp: '2023-02-22T15:22:12.3691125Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'farmerApplyData-reference',
  EventRaised: '2023-02-22T15:22:11.638Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"farmerApplyData-reference","message":"Session set for farmerApplyData and reference.","data":{"reference":"AHWR-9D11-0EAA"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:11.638Z"}',
  Status: 'success'
}]

const claimJourneyEvents = [{
  partitionKey: '205000202',
  rowKey: '205000202_1677079349346',
  timestamp: '2023-02-22T15:22:30.4897363Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'claim-organisation',
  EventRaised: '2023-02-22T15:22:29.346Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"claim-organisation","message":"Session set for claim and organisation.","data":{"organisation":{"farmerName":"Mr Farmer 212","name":"My Farm Batch 7 Ltd","sbi":"105000202","crn":"1100000212","address":"125 Main Road, Covenham St. Bartholomew, Louth, LN11 0PF, United Kingdom","email":"1100000212@email.com"}},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:29.346Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079349432',
  timestamp: '2023-02-22T15:22:30.5117237Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'selectYourBusiness-eligibleBusinesses',
  EventRaised: '2023-02-22T15:22:29.432Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"selectYourBusiness-eligibleBusinesses","message":"Session set for selectYourBusiness and eligibleBusinesses.","data":{"eligibleBusinesses":[{"id":"9d110eaa-9c89-4e66-8f7c-69eadea71216","reference":"AHWR-9D11-0EAA","data":{"reference":null,"declaration":true,"offerStatus":"accepted","whichReview":"pigs","organisation":{"crn":"1100000212","sbi":"105000202","name":"My Farm Batch 7 Ltd","email":"1100000212@email.com","address":"125 Main Road, Covenham St. Bartholomew, Louth, LN11 0PF, United Kingdom","farmerName":"Mr Farmer 212"},"eligibleSpecies":"yes","confirmCheckDetails":"yes"},"claimed":false,"createdAt":"2023-02-22T15:22:09.192Z","updatedAt":"2023-02-22T15:22:09.211Z","createdBy":"admin","updatedBy":null,"statusId":1}]},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:29.432Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079352144',
  timestamp: '2023-02-22T15:22:33.7488708Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'selectYourBusiness-whichBusiness',
  EventRaised: '2023-02-22T15:22:32.144Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"selectYourBusiness-whichBusiness","message":"Session set for selectYourBusiness and whichBusiness.","data":{"whichBusiness":"105000202"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:32.144Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079352150',
  timestamp: '2023-02-22T15:22:33.7898466Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'claim-id',
  EventRaised: '2023-02-22T15:22:32.150Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"claim-id","message":"Session set for claim and id.","data":{"id":"9d110eaa-9c89-4e66-8f7c-69eadea71216"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:32.150Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079352154',
  timestamp: '2023-02-22T15:22:33.6539248Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'claim-reference',
  EventRaised: '2023-02-22T15:22:32.154Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"claim-reference","message":"Session set for claim and reference.","data":{"reference":"AHWR-9D11-0EAA"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:32.154Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079352158',
  timestamp: '2023-02-22T15:22:33.8028393Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'claim-data',
  EventRaised: '2023-02-22T15:22:32.158Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"claim-data","message":"Session set for claim and data.","data":{"data":{"reference":null,"declaration":true,"offerStatus":"accepted","whichReview":"pigs","organisation":{"crn":"1100000212","sbi":"105000202","name":"My Farm Batch 7 Ltd","email":"1100000212@email.com","address":"125 Main Road, Covenham St. Bartholomew, Louth, LN11 0PF, United Kingdom","farmerName":"Mr Farmer 212"},"eligibleSpecies":"yes","confirmCheckDetails":"yes"}},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:32.158Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079352161',
  timestamp: '2023-02-22T15:22:33.8069084Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'claim-claimed',
  EventRaised: '2023-02-22T15:22:32.161Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"claim-claimed","message":"Session set for claim and claimed.","data":{"claimed":false},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:32.161Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079352163',
  timestamp: '2023-02-22T15:22:33.8030894Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'claim-createdAt',
  EventRaised: '2023-02-22T15:22:32.163Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"claim-createdAt","message":"Session set for claim and createdAt.","data":{"createdAt":"2023-02-22T15:22:09.192Z"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:32.163Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079352167',
  timestamp: '2023-02-22T15:22:33.7638615Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'claim-updatedAt',
  EventRaised: '2023-02-22T15:22:32.167Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"claim-updatedAt","message":"Session set for claim and updatedAt.","data":{"updatedAt":"2023-02-22T15:22:09.211Z"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:32.167Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079352173',
  timestamp: '2023-02-22T15:22:33.8028691Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'claim-createdBy',
  EventRaised: '2023-02-22T15:22:32.173Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"claim-createdBy","message":"Session set for claim and createdBy.","data":{"createdBy":"admin"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:32.173Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079352179',
  timestamp: '2023-02-22T15:22:33.7937456Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'claim-updatedBy',
  EventRaised: '2023-02-22T15:22:32.179Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"claim-updatedBy","message":"Session set for claim and updatedBy.","data":{"updatedBy":null},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:32.179Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079352187',
  timestamp: '2023-02-22T15:22:33.7932963Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'claim-statusId',
  EventRaised: '2023-02-22T15:22:32.187Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"claim-statusId","message":"Session set for claim and statusId.","data":{"statusId":1},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:32.187Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079355048',
  timestamp: '2023-02-22T15:22:36.5303481Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'claim-detailsCorrect',
  EventRaised: '2023-02-22T15:22:35.048Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"claim-detailsCorrect","message":"Session set for claim and detailsCorrect.","data":{"detailsCorrect":"yes"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:35.048Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079360463',
  timestamp: '2023-02-22T15:22:41.4935051Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'claim-visitDate',
  EventRaised: '2023-02-22T15:22:40.463Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"claim-visitDate","message":"Session set for claim and visitDate.","data":{"visitDate":"2023-02-22T00:00:00.000Z"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:40.463Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079362767',
  timestamp: '2023-02-22T15:22:44.2239407Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'claim-vetName',
  EventRaised: '2023-02-22T15:22:42.767Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"claim-vetName","message":"Session set for claim and vetName.","data":{"vetName":"ssdaje"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:42.767Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079366556',
  timestamp: '2023-02-22T15:22:47.4920695Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'claim-vetRcvs',
  EventRaised: '2023-02-22T15:22:46.556Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"claim-vetRcvs","message":"Session set for claim and vetRcvs.","data":{"vetRcvs":"1111112"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:46.556Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079368560',
  timestamp: '2023-02-22T15:22:49.5269033Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'claim-urnResult',
  EventRaised: '2023-02-22T15:22:48.560Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"claim-urnResult","message":"Session set for claim and urnResult.","data":{"urnResult":"URNURN"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:48.560Z"}',
  Status: 'success'
},
{
  partitionKey: '205000202',
  rowKey: '205000202_1677079374873',
  timestamp: '2023-02-22T15:22:55.6344047Z',
  SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
  EventType: 'claim-claimed',
  EventRaised: '2023-02-22T15:22:54.873Z',
  EventBy: '1100000212@email.com',
  Payload: '{"type":"claim-claimed","message":"Session set for claim and claimed.","data":{"claimed":"success"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:54.873Z"}',
  Status: 'success'
}]

describe('createRows', () => {
  afterEach(() => {
    jest.clearAllMocks()
    jest.resetAllMocks()
  })

  test.each([
    {
      toString: () => 'same sbi - not agreed; withdrawn; ready-to-pay',
      given: {
        events: [
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791111903',
            timestamp: '2023-03-14T10:51:52.3568999Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-organisation',
            EventRaised: '2023-03-14T10:51:51.903Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-organisation","message":"Session set for farmerApplyData and organisation.","data":{"organisation":{"farmerName":"Mr Farmer 010","name":"1-1-1 / My Farm Batch 1 Ltd","sbi":"105110010","crn":"1105110020","address":"10 Main Road, Covenham St. Bartholomew, Louth, LN11 0PF, United Kingdom","email":"1105110020@email.com","orgEmail":"1105110020@orgemail.com"}},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:51:51.903Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791114834',
            timestamp: '2023-03-14T10:51:55.1891808Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-confirmCheckDetails',
            EventRaised: '2023-03-14T10:51:54.834Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-confirmCheckDetails","message":"Session set for farmerApplyData and confirmCheckDetails.","data":{"confirmCheckDetails":"yes"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:51:54.834Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791117174',
            timestamp: '2023-03-14T10:51:57.482789Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-whichReview',
            EventRaised: '2023-03-14T10:51:57.174Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-whichReview","message":"Session set for farmerApplyData and whichReview.","data":{"whichReview":"sheep"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:51:57.174Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791119290',
            timestamp: '2023-03-14T10:51:59.7733997Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-eligibleSpecies',
            EventRaised: '2023-03-14T10:51:59.290Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-eligibleSpecies","message":"Session set for farmerApplyData and eligibleSpecies.","data":{"eligibleSpecies":"yes"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:51:59.290Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791120491',
            timestamp: '2023-03-14T10:52:01.2525022Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-reference',
            EventRaised: '2023-03-14T10:52:00.491Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-reference","message":"Session set for farmerApplyData and reference.","data":{"reference":null},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:52:00.491Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791122850',
            timestamp: '2023-03-14T10:52:03.7669768Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-declaration',
            EventRaised: '2023-03-14T10:52:02.850Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-declaration","message":"Session set for farmerApplyData and declaration.","data":{"declaration":true},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:52:02.850Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791124665',
            timestamp: '2023-03-14T10:52:05.1071641Z',
            SessionId: '43fbf5a2-f247-4eb1-b062-84fd3cd1dac4',
            EventType: 'application:status-updated:7',
            EventRaised: '2023-03-14T10:52:04.665Z',
            EventBy: 'admin',
            Payload: '{"type":"application:status-updated:7","message":"New application has been created","data":{"reference":"AHWR-43FB-F5A2","statusId":7},"raisedBy":"admin","raisedOn":"2023-03-14T10:52:04.665Z","timestamp":"2023-03-14T10:52:04.695Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791125697',
            timestamp: '2023-03-14T10:52:06.2364788Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-reference',
            EventRaised: '2023-03-14T10:52:05.697Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-reference","message":"Session set for farmerApplyData and reference.","data":{"reference":"AHWR-43FB-F5A2"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:52:05.697Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791223437',
            timestamp: '2023-03-14T10:53:44.2257416Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-organisation',
            EventRaised: '2023-03-14T10:53:43.437Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-organisation","message":"Session set for farmerApplyData and organisation.","data":{"organisation":{"farmerName":"Mr Farmer 010","name":"1-1-1 / My Farm Batch 1 Ltd","sbi":"105110010","crn":"1105110020","address":"10 Main Road, Covenham St. Bartholomew, Louth, LN11 0PF, United Kingdom","email":"1105110020@email.com"}},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:53:43.437Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791238530',
            timestamp: '2023-03-14T10:53:58.8869536Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'selectYourBusiness-eligibleBusinesses',
            EventRaised: '2023-03-14T10:53:58.530Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"selectYourBusiness-eligibleBusinesses","message":"Session set for selectYourBusiness and eligibleBusinesses.","data":{"eligibleBusinesses":[{"farmerName":"Mr Farmer 010","name":"1-1-1 / My Farm Batch 1 Ltd","sbi":"105110010","crn":"1105110020","address":"10 Main Road, Covenham St. Bartholomew, Louth, LN11 0PF, United Kingdom","email":"1105110020@email.com"}]},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:53:58.530Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791239981',
            timestamp: '2023-03-14T10:54:00.6349086Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'selectYourBusiness-whichBusiness',
            EventRaised: '2023-03-14T10:53:59.981Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"selectYourBusiness-whichBusiness","message":"Session set for selectYourBusiness and whichBusiness.","data":{"whichBusiness":"105110010"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:53:59.981Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791239982',
            timestamp: '2023-03-14T10:54:00.6638884Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-organisation',
            EventRaised: '2023-03-14T10:53:59.982Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-organisation","message":"Session set for farmerApplyData and organisation.","data":{"organisation":{"farmerName":"Mr Farmer 010","name":"1-1-1 / My Farm Batch 1 Ltd","sbi":"105110010","crn":"1105110020","address":"10 Main Road, Covenham St. Bartholomew, Louth, LN11 0PF, United Kingdom","email":"1105110020@email.com"}},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:53:59.982Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791241781',
            timestamp: '2023-03-14T10:54:02.0220744Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-confirmCheckDetails',
            EventRaised: '2023-03-14T10:54:01.781Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-confirmCheckDetails","message":"Session set for farmerApplyData and confirmCheckDetails.","data":{"confirmCheckDetails":"yes"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:54:01.781Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791244236',
            timestamp: '2023-03-14T10:54:04.73445Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-whichReview',
            EventRaised: '2023-03-14T10:54:04.236Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-whichReview","message":"Session set for farmerApplyData and whichReview.","data":{"whichReview":"beef"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:54:04.236Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791245944',
            timestamp: '2023-03-14T10:54:06.3344908Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-eligibleSpecies',
            EventRaised: '2023-03-14T10:54:05.944Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-eligibleSpecies","message":"Session set for farmerApplyData and eligibleSpecies.","data":{"eligibleSpecies":"yes"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:54:05.944Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791247178',
            timestamp: '2023-03-14T10:54:07.4648138Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-reference',
            EventRaised: '2023-03-14T10:54:07.178Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-reference","message":"Session set for farmerApplyData and reference.","data":{"reference":null},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:54:07.178Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791250510',
            timestamp: '2023-03-14T10:54:11.1915809Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-declaration',
            EventRaised: '2023-03-14T10:54:10.510Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-declaration","message":"Session set for farmerApplyData and declaration.","data":{"declaration":true},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:54:10.510Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791250511',
            timestamp: '2023-03-14T10:54:11.3684751Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-offerStatus',
            EventRaised: '2023-03-14T10:54:10.511Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-offerStatus","message":"Session set for farmerApplyData and offerStatus.","data":{"offerStatus":"accepted"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:54:10.511Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791251738',
            timestamp: '2023-03-14T10:54:12.259941Z',
            SessionId: 'fb0ef0c6-cdb4-4e63-aa4c-a0ca4b346797',
            EventType: 'application:status-updated:1',
            EventRaised: '2023-03-14T10:54:11.738Z',
            EventBy: 'admin',
            Payload: '{"type":"application:status-updated:1","message":"New application has been created","data":{"reference":"AHWR-FB0E-F0C6","statusId":1},"raisedBy":"admin","raisedOn":"2023-03-14T10:54:11.738Z","timestamp":"2023-03-14T10:54:11.787Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791253223',
            timestamp: '2023-03-14T10:54:13.6281208Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-reference',
            EventRaised: '2023-03-14T10:54:13.223Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-reference","message":"Session set for farmerApplyData and reference.","data":{"reference":"AHWR-FB0E-F0C6"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:54:13.223Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791267042',
            timestamp: '2023-03-14T10:54:27.6387305Z',
            SessionId: 'fb0ef0c6-cdb4-4e63-aa4c-a0ca4b346797',
            EventType: 'application:status-updated:2',
            EventRaised: '2023-03-14T10:54:27.042Z',
            EventBy: 'Ibon Aramburu (Kainos)',
            Payload: '{"type":"application:status-updated:2","message":"Application has been updated","data":{"reference":"AHWR-FB0E-F0C6","statusId":2},"raisedBy":"Ibon Aramburu (Kainos)","raisedOn":"2023-03-14T10:54:27.042Z","timestamp":"2023-03-14T10:54:27.127Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791298408',
            timestamp: '2023-03-14T10:54:58.6141887Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-organisation',
            EventRaised: '2023-03-14T10:54:58.408Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-organisation","message":"Session set for farmerApplyData and organisation.","data":{"organisation":{"farmerName":"Mr Farmer 010","name":"1-1-1 / My Farm Batch 1 Ltd","sbi":"105110010","crn":"1105110020","address":"10 Main Road, Covenham St. Bartholomew, Louth, LN11 0PF, United Kingdom","email":"1105110020@email.com"}},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:54:58.408Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791300662',
            timestamp: '2023-03-14T10:55:01.0837114Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-confirmCheckDetails',
            EventRaised: '2023-03-14T10:55:00.662Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-confirmCheckDetails","message":"Session set for farmerApplyData and confirmCheckDetails.","data":{"confirmCheckDetails":"yes"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:55:00.662Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791484766',
            timestamp: '2023-03-14T10:58:05.0675086Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-whichReview',
            EventRaised: '2023-03-14T10:58:04.766Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-whichReview","message":"Session set for farmerApplyData and whichReview.","data":{"whichReview":"pigs"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:58:04.766Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791486822',
            timestamp: '2023-03-14T10:58:07.2622389Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-eligibleSpecies',
            EventRaised: '2023-03-14T10:58:06.822Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-eligibleSpecies","message":"Session set for farmerApplyData and eligibleSpecies.","data":{"eligibleSpecies":"yes"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:58:06.822Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791488113',
            timestamp: '2023-03-14T10:58:08.4055779Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-reference',
            EventRaised: '2023-03-14T10:58:08.113Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-reference","message":"Session set for farmerApplyData and reference.","data":{"reference":null},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:58:08.113Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791490960',
            timestamp: '2023-03-14T10:58:11.3728619Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-declaration',
            EventRaised: '2023-03-14T10:58:10.960Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-declaration","message":"Session set for farmerApplyData and declaration.","data":{"declaration":true},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:58:10.960Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791490961',
            timestamp: '2023-03-14T10:58:11.2999037Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-offerStatus',
            EventRaised: '2023-03-14T10:58:10.961Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-offerStatus","message":"Session set for farmerApplyData and offerStatus.","data":{"offerStatus":"accepted"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:58:10.961Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791491774',
            timestamp: '2023-03-14T10:58:12.5271945Z',
            SessionId: 'b7826b22-4a23-4fce-b8b2-f17d3735082b',
            EventType: 'application:status-updated:1',
            EventRaised: '2023-03-14T10:58:11.774Z',
            EventBy: 'admin',
            Payload: '{"type":"application:status-updated:1","message":"New application has been created","data":{"reference":"AHWR-B782-6B22","statusId":1},"raisedBy":"admin","raisedOn":"2023-03-14T10:58:11.774Z","timestamp":"2023-03-14T10:58:11.829Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105110010',
            rowKey: '105110010_1678791493328',
            timestamp: '2023-03-14T10:58:13.8794129Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-reference',
            EventRaised: '2023-03-14T10:58:13.328Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-reference","message":"Session set for farmerApplyData and reference.","data":{"reference":"AHWR-B782-6B22"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:58:13.328Z"}',
            Status: 'success'
          },
          {
            etag: 'W/"datetime\'2023-03-14T10%3A59%3A00.7273434Z\'"',
            partitionKey: '105110010',
            rowKey: '105110010_1678791537265',
            timestamp: '2023-03-14T10:59:00.7273434Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'claim-organisation',
            EventRaised: '2023-03-14T10:58:57.265Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"claim-organisation","message":"Session set for claim and organisation.","data":{"organisation":{"farmerName":"Mr Farmer 010","name":"1-1-1 / My Farm Batch 1 Ltd","sbi":"105110010","crn":"1105110020","address":"10 Main Road, Covenham St. Bartholomew, Louth, LN11 0PF, United Kingdom","email":"1105110020@email.com"}},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:58:57.265Z"}',
            Status: 'success'
          },
          {
            etag: 'W/"datetime\'2023-03-14T10%3A59%3A01.001185Z\'"',
            partitionKey: '105110010',
            rowKey: '105110010_1678791537865',
            timestamp: '2023-03-14T10:59:01.001185Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'selectYourBusiness-eligibleBusinesses',
            EventRaised: '2023-03-14T10:58:57.865Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"selectYourBusiness-eligibleBusinesses","message":"Session set for selectYourBusiness and eligibleBusinesses.","data":{"eligibleBusinesses":[{"id":"b7826b22-4a23-4fce-b8b2-f17d3735082b","reference":"AHWR-B782-6B22","data":{"reference":null,"declaration":true,"offerStatus":"accepted","whichReview":"pigs","organisation":{"crn":"1105110020","sbi":"105110010","name":"1-1-1 / My Farm Batch 1 Ltd","email":"1105110020@email.com","address":"10 Main Road, Covenham St. Bartholomew, Louth, LN11 0PF, United Kingdom","farmerName":"Mr Farmer 010"},"eligibleSpecies":"yes","confirmCheckDetails":"yes"},"claimed":false,"createdAt":"2023-03-14T10:58:11.774Z","updatedAt":"2023-03-14T10:58:11.792Z","createdBy":"admin","updatedBy":null,"statusId":1}]},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:58:57.865Z"}',
            Status: 'success'
          },
          {
            etag: 'W/"datetime\'2023-03-14T10%3A59%3A13.4959718Z\'"',
            partitionKey: '105110010',
            rowKey: '105110010_1678791549937',
            timestamp: '2023-03-14T10:59:13.4959718Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'selectYourBusiness-whichBusiness',
            EventRaised: '2023-03-14T10:59:09.937Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"selectYourBusiness-whichBusiness","message":"Session set for selectYourBusiness and whichBusiness.","data":{"whichBusiness":"105110010"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:59:09.937Z"}',
            Status: 'success'
          },
          {
            etag: 'W/"datetime\'2023-03-14T10%3A59%3A13.5029676Z\'"',
            partitionKey: '105110010',
            rowKey: '105110010_1678791549938',
            timestamp: '2023-03-14T10:59:13.5029676Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'claim-id',
            EventRaised: '2023-03-14T10:59:09.938Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"claim-id","message":"Session set for claim and id.","data":{"id":"b7826b22-4a23-4fce-b8b2-f17d3735082b"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:59:09.938Z"}',
            Status: 'success'
          },
          {
            etag: 'W/"datetime\'2023-03-14T10%3A59%3A15.8979058Z\'"',
            partitionKey: '105110010',
            rowKey: '105110010_1678791549940',
            timestamp: '2023-03-14T10:59:15.8979058Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'claim-reference',
            EventRaised: '2023-03-14T10:59:09.940Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"claim-reference","message":"Session set for claim and reference.","data":{"reference":"AHWR-B782-6B22"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:59:09.940Z"}',
            Status: 'success'
          },
          {
            etag: 'W/"datetime\'2023-03-14T10%3A59%3A15.9238898Z\'"',
            partitionKey: '105110010',
            rowKey: '105110010_1678791549941',
            timestamp: '2023-03-14T10:59:15.9238898Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'claim-data',
            EventRaised: '2023-03-14T10:59:09.941Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"claim-data","message":"Session set for claim and data.","data":{"data":{"reference":null,"declaration":true,"offerStatus":"accepted","whichReview":"pigs","organisation":{"crn":"1105110020","sbi":"105110010","name":"1-1-1 / My Farm Batch 1 Ltd","email":"1105110020@email.com","address":"10 Main Road, Covenham St. Bartholomew, Louth, LN11 0PF, United Kingdom","farmerName":"Mr Farmer 010"},"eligibleSpecies":"yes","confirmCheckDetails":"yes"}},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:59:09.941Z"}',
            Status: 'success'
          },
          {
            etag: 'W/"datetime\'2023-03-14T10%3A59%3A15.8995834Z\'"',
            partitionKey: '105110010',
            rowKey: '105110010_1678791549942',
            timestamp: '2023-03-14T10:59:15.8995834Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'claim-claimed',
            EventRaised: '2023-03-14T10:59:09.942Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"claim-claimed","message":"Session set for claim and claimed.","data":{"claimed":false},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:59:09.942Z"}',
            Status: 'success'
          },
          {
            etag: 'W/"datetime\'2023-03-14T10%3A59%3A15.199988Z\'"',
            partitionKey: '105110010',
            rowKey: '105110010_1678791549943',
            timestamp: '2023-03-14T10:59:15.199988Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'claim-createdAt',
            EventRaised: '2023-03-14T10:59:09.943Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"claim-createdAt","message":"Session set for claim and createdAt.","data":{"createdAt":"2023-03-14T10:58:11.774Z"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:59:09.943Z"}',
            Status: 'success'
          },
          {
            etag: 'W/"datetime\'2023-03-14T10%3A59%3A15.2362853Z\'"',
            partitionKey: '105110010',
            rowKey: '105110010_1678791549963',
            timestamp: '2023-03-14T10:59:15.2362853Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'claim-updatedAt',
            EventRaised: '2023-03-14T10:59:09.963Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"claim-updatedAt","message":"Session set for claim and updatedAt.","data":{"updatedAt":"2023-03-14T10:58:11.792Z"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:59:09.963Z"}',
            Status: 'success'
          },
          {
            etag: 'W/"datetime\'2023-03-14T10%3A59%3A15.3049268Z\'"',
            partitionKey: '105110010',
            rowKey: '105110010_1678791549964',
            timestamp: '2023-03-14T10:59:15.3049268Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'claim-createdBy',
            EventRaised: '2023-03-14T10:59:09.964Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"claim-createdBy","message":"Session set for claim and createdBy.","data":{"createdBy":"admin"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:59:09.964Z"}',
            Status: 'success'
          },
          {
            etag: 'W/"datetime\'2023-03-14T10%3A59%3A15.7966438Z\'"',
            partitionKey: '105110010',
            rowKey: '105110010_1678791549966',
            timestamp: '2023-03-14T10:59:15.7966438Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'claim-updatedBy',
            EventRaised: '2023-03-14T10:59:09.966Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"claim-updatedBy","message":"Session set for claim and updatedBy.","data":{"updatedBy":null},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:59:09.966Z"}',
            Status: 'success'
          },
          {
            etag: 'W/"datetime\'2023-03-14T10%3A59%3A20.6062009Z\'"',
            partitionKey: '105110010',
            rowKey: '105110010_1678791559242',
            timestamp: '2023-03-14T10:59:20.6062009Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'claim-detailsCorrect',
            EventRaised: '2023-03-14T10:59:19.242Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"claim-detailsCorrect","message":"Session set for claim and detailsCorrect.","data":{"detailsCorrect":"yes"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:59:19.242Z"}',
            Status: 'success'
          },
          {
            etag: 'W/"datetime\'2023-03-14T11%3A01%3A00.6722189Z\'"',
            partitionKey: '105110010',
            rowKey: '105110010_1678791658940',
            timestamp: '2023-03-14T11:01:00.6722189Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'claim-visitDate',
            EventRaised: '2023-03-14T11:00:58.940Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"claim-visitDate","message":"Session set for claim and visitDate.","data":{"visitDate":"2023-03-14T00:00:00.000Z"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T11:00:58.940Z"}',
            Status: 'success'
          },
          {
            etag: 'W/"datetime\'2023-03-14T11%3A01%3A27.1422494Z\'"',
            partitionKey: '105110010',
            rowKey: '105110010_1678791685659',
            timestamp: '2023-03-14T11:01:27.1422494Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'claim-vetName',
            EventRaised: '2023-03-14T11:01:25.659Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"claim-vetName","message":"Session set for claim and vetName.","data":{"vetName":"Vet Tel"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T11:01:25.659Z"}',
            Status: 'success'
          },
          {
            etag: 'W/"datetime\'2023-03-14T11%3A01%3A32.1752146Z\'"',
            partitionKey: '105110010',
            rowKey: '105110010_1678791690108',
            timestamp: '2023-03-14T11:01:32.1752146Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'claim-vetRcvs',
            EventRaised: '2023-03-14T11:01:30.108Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"claim-vetRcvs","message":"Session set for claim and vetRcvs.","data":{"vetRcvs":"7658766"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T11:01:30.108Z"}',
            Status: 'success'
          },
          {
            etag: 'W/"datetime\'2023-03-14T11%3A01%3A39.472814Z\'"',
            partitionKey: '105110010',
            rowKey: '105110010_1678791696365',
            timestamp: '2023-03-14T11:01:39.472814Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'claim-urnResult',
            EventRaised: '2023-03-14T11:01:36.365Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"claim-urnResult","message":"Session set for claim and urnResult.","data":{"urnResult":"A URN"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T11:01:36.365Z"}',
            Status: 'success'
          },
          {
            etag: 'W/"datetime\'2023-03-14T11%3A01%3A45.7250445Z\'"',
            partitionKey: '105110010',
            rowKey: '105110010_1678791705085',
            timestamp: '2023-03-14T11:01:45.7250445Z',
            SessionId: 'b7826b22-4a23-4fce-b8b2-f17d3735082b',
            EventType: 'application:status-updated:5',
            EventRaised: '2023-03-14T11:01:45.085Z',
            EventBy: 'admin',
            Payload: '{"type":"application:status-updated:5","message":"Application has been updated","data":{"reference":"AHWR-B782-6B22","statusId":5},"raisedBy":"admin","raisedOn":"2023-03-14T11:01:45.085Z","timestamp":"2023-03-14T11:01:45.094Z"}',
            Status: 'success'
          },
          {
            etag: 'W/"datetime\'2023-03-14T11%3A01%3A48.3147601Z\'"',
            partitionKey: '105110010',
            rowKey: '105110010_1678791706474',
            timestamp: '2023-03-14T11:01:48.3147601Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'claim-claimed',
            EventRaised: '2023-03-14T11:01:46.474Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"claim-claimed","message":"Session set for claim and claimed.","data":{"claimed":"success"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T11:01:46.474Z"}',
            Status: 'success'
          },
          {
            etag: 'W/"datetime\'2023-03-14T11%3A15%3A00.9443302Z\'"',
            partitionKey: '105110010',
            rowKey: '105110010_1678792500280',
            timestamp: '2023-03-14T11:15:00.9443302Z',
            SessionId: 'b7826b22-4a23-4fce-b8b2-f17d3735082b',
            EventType: 'application:status-updated:9',
            EventRaised: '2023-03-14T11:15:00.280Z',
            EventBy: 'Ibon Aramburu (Kainos)',
            Payload: '{"type":"application:status-updated:9","message":"Application has been updated","data":{"reference":"AHWR-B782-6B22","statusId":9},"raisedBy":"Ibon Aramburu (Kainos)","raisedOn":"2023-03-14T11:15:00.280Z","timestamp":"2023-03-14T11:15:00.328Z"}',
            Status: 'success'
          },
          {
            etag: 'W/"datetime\'2023-03-14T10%3A52%3A04.2776677Z\'"',
            partitionKey: '105110010',
            rowKey: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb_1678791124255',
            timestamp: '2023-03-14T10:52:04.2776677Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'farmerApplyData-offerStatus',
            EventRaised: '2023-03-14T10:52:02.850Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"farmerApplyData-offerStatus","message":"Session set for farmerApplyData and offerStatus.","data":{"offerStatus":"rejected"},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:52:02.850Z"}',
            Status: 'duplicate event'
          },
          {
            etag: 'W/"datetime\'2023-03-14T10%3A59%3A15.8196301Z\'"',
            partitionKey: '105110010',
            rowKey: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb_1678791555809',
            timestamp: '2023-03-14T10:59:15.8196301Z',
            SessionId: 'b628722e-f7dd-42b7-98a3-a29479ad2cdb',
            EventType: 'claim-statusId',
            EventRaised: '2023-03-14T10:59:09.966Z',
            EventBy: '1105110020@email.com',
            Payload: '{"type":"claim-statusId","message":"Session set for claim and statusId.","data":{"statusId":1},"raisedBy":"1105110020@email.com","raisedOn":"2023-03-14T10:59:09.966Z"}',
            Status: 'duplicate event'
          }
        ]
      },
      expect: {
        parsedEvents: [
          {
            sbi: '105110010',
            cph: undefined,
            name: '1-1-1 / My Farm Batch 1 Ltd',
            farmer: 'Mr Farmer 010',
            address: '10 Main Road"," Covenham St. Bartholomew"," Louth"," LN11 0PF"," United Kingdom',
            email: '1105110020@email.com',
            orgEmail: '1105110020@orgemail.com',
            whichReview: 'sheep',
            whichReviewRaisedOn: '14/03/2023 10:51',
            eligibleSpecies: 'yes',
            eligibleSpeciesRaisedOn: '14/03/2023 10:51',
            confirmCheckDetails: 'yes',
            confirmCheckDetailsRaisedOn: '14/03/2023 10:51',
            declaration: 'yes',
            declarationRaisedOn: '14/03/2023 10:52',
            applicationNumber: 'AHWR-43FB-F5A2',
            claimDetailsCorrect: '',
            claimDetailsCorrectRaisedOn: '',
            claimVisitDate: 'Unknown',
            claimVisitDateRaisedOn: '',
            claimDateOfTesting: 'Unknown',
            claimDateOfTestingRaisedOn: '',
            claimVetName: '',
            claimVetNameRaisedOn: '',
            claimVetRcvs: '',
            claimVetRcvsRaisedOn: '',
            claimUrnResult: '',
            claimUrnResultRaisedOn: '',
            claimClaimed: '',
            claimClaimedRaisedOn: '',
            applicationWithdrawn: 'no',
            applicationWithdrawnOn: 'n/a',
            applicationWithdrawnBy: 'n/a',
            claimApproved: 'no',
            claimApprovedOn: 'n/a',
            claimApprovedBy: 'n/a',
            claimRejected: 'no',
            claimRejectedOn: 'n/a',
            claimRejectedBy: 'n/a',
            agreementCurrentStatus: 'NOT AGREED',
            recommendedToPay: '',
            recommendedToReject: '',
            recommendedOn: '',
            recommendedBy: ''
          },
          {
            sbi: '105110010',
            cph: undefined,
            name: '1-1-1 / My Farm Batch 1 Ltd',
            farmer: 'Mr Farmer 010',
            address: '10 Main Road"," Covenham St. Bartholomew"," Louth"," LN11 0PF"," United Kingdom',
            email: '1105110020@email.com',
            orgEmail: '',
            whichReview: 'beef',
            whichReviewRaisedOn: '14/03/2023 10:54',
            eligibleSpecies: 'yes',
            eligibleSpeciesRaisedOn: '14/03/2023 10:54',
            confirmCheckDetails: 'yes',
            confirmCheckDetailsRaisedOn: '14/03/2023 10:54',
            declaration: 'yes',
            declarationRaisedOn: '14/03/2023 10:54',
            applicationNumber: 'AHWR-FB0E-F0C6',
            claimDetailsCorrect: '',
            claimDetailsCorrectRaisedOn: '',
            claimVisitDate: 'Unknown',
            claimVisitDateRaisedOn: '',
            claimDateOfTesting: 'Unknown',
            claimDateOfTestingRaisedOn: '',
            claimVetName: '',
            claimVetNameRaisedOn: '',
            claimVetRcvs: '',
            claimVetRcvsRaisedOn: '',
            claimUrnResult: '',
            claimUrnResultRaisedOn: '',
            claimClaimed: '',
            claimClaimedRaisedOn: '',
            applicationWithdrawn: 'yes',
            applicationWithdrawnOn: '14/03/2023 10:54',
            applicationWithdrawnBy: 'Ibon Aramburu (Kainos)',
            claimApproved: 'no',
            claimApprovedOn: 'n/a',
            claimApprovedBy: 'n/a',
            claimRejected: 'no',
            claimRejectedOn: 'n/a',
            claimRejectedBy: 'n/a',
            agreementCurrentStatus: 'WITHDRAWN',
            recommendedToPay: '',
            recommendedToReject: '',
            recommendedOn: '',
            recommendedBy: ''
          },
          {
            sbi: '105110010',
            cph: undefined,
            name: '1-1-1 / My Farm Batch 1 Ltd',
            farmer: 'Mr Farmer 010',
            address: '10 Main Road"," Covenham St. Bartholomew"," Louth"," LN11 0PF"," United Kingdom',
            email: '1105110020@email.com',
            orgEmail: '',
            whichReview: 'pigs',
            whichReviewRaisedOn: '14/03/2023 10:58',
            eligibleSpecies: 'yes',
            eligibleSpeciesRaisedOn: '14/03/2023 10:58',
            confirmCheckDetails: 'yes',
            confirmCheckDetailsRaisedOn: '14/03/2023 10:55',
            declaration: 'yes',
            declarationRaisedOn: '14/03/2023 10:58',
            applicationNumber: 'AHWR-B782-6B22',
            claimDetailsCorrect: 'yes',
            claimDetailsCorrectRaisedOn: '14/03/2023 10:59',
            claimVisitDate: '14/03/2023',
            claimVisitDateRaisedOn: '14/03/2023 11:00',
            claimDateOfTesting: 'Unknown',
            claimDateOfTestingRaisedOn: '',
            claimVetName: 'Vet Tel',
            claimVetNameRaisedOn: '14/03/2023 11:01',
            claimVetRcvs: '7658766',
            claimVetRcvsRaisedOn: '14/03/2023 11:01',
            claimUrnResult: 'A URN',
            claimUrnResultRaisedOn: '14/03/2023 11:01',
            claimClaimed: 'success',
            claimClaimedRaisedOn: '14/03/2023 11:01',
            applicationWithdrawn: 'no',
            applicationWithdrawnOn: 'n/a',
            applicationWithdrawnBy: 'n/a',
            claimApproved: 'yes',
            claimApprovedOn: '14/03/2023 11:15',
            claimApprovedBy: 'Ibon Aramburu (Kainos)',
            claimRejected: 'no',
            claimRejectedOn: 'n/a',
            claimRejectedBy: 'n/a',
            agreementCurrentStatus: 'READY TO PAY',
            recommendedToPay: '',
            recommendedToReject: '',
            recommendedOn: '',
            recommendedBy: ''
          }
        ]

      }
    },
    {
      toString: () => 'farmer apply journey + farmer apply and claim journey',
      given: {
        events: [
          {
            partitionKey: '105000200',
            rowKey: '105000200_1677078980670',
            timestamp: '2023-02-22T15:16:21.99797Z',
            SessionId: '1573b19c-3d4f-4fe4-b46c-3a252a21a5ac',
            EventType: 'farmerApplyData-organisation',
            EventRaised: '2023-02-22T15:16:20.670Z',
            EventBy: '1100000210@email.com',
            Payload: '{"type":"farmerApplyData-organisation","message":"Session set for farmerApplyData and organisation.","data":{"organisation":{"farmerName":"Mr Farmer 210","name":"My Farm Batch 7 Ltd","sbi":"105000200","crn":"1100000210","address":"123 Main Road, Covenham St. Bartholomew, Louth, LN11 0PF, United Kingdom","email":"1100000210@email.com","orgEmail":"1100000210@orgemail.com"}},"raisedBy":"1100000210@email.com","raisedOn":"2023-02-22T15:16:20.670Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000200',
            rowKey: '105000200_1677078982407',
            timestamp: '2023-02-22T15:16:23.2292654Z',
            SessionId: '1573b19c-3d4f-4fe4-b46c-3a252a21a5ac',
            EventType: 'farmerApplyData-confirmCheckDetails',
            EventRaised: '2023-02-22T15:16:22.407Z',
            EventBy: '1100000210@email.com',
            Payload: '{"type":"farmerApplyData-confirmCheckDetails","message":"Session set for farmerApplyData and confirmCheckDetails.","data":{"confirmCheckDetails":"yes"},"raisedBy":"1100000210@email.com","raisedOn":"2023-02-22T15:16:22.407Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000200',
            rowKey: '105000200_1677078983862',
            timestamp: '2023-02-22T15:16:25.3430526Z',
            SessionId: '1573b19c-3d4f-4fe4-b46c-3a252a21a5ac',
            EventType: 'farmerApplyData-whichReview',
            EventRaised: '2023-02-22T15:16:23.862Z',
            EventBy: '1100000210@email.com',
            Payload: '{"type":"farmerApplyData-whichReview","message":"Session set for farmerApplyData and whichReview.","data":{"whichReview":"dairy"},"raisedBy":"1100000210@email.com","raisedOn":"2023-02-22T15:16:23.862Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000200',
            rowKey: '105000200_1677078986305',
            timestamp: '2023-02-22T15:16:27.247962Z',
            SessionId: '1573b19c-3d4f-4fe4-b46c-3a252a21a5ac',
            EventType: 'farmerApplyData-eligibleSpecies',
            EventRaised: '2023-02-22T15:16:26.305Z',
            EventBy: '1100000210@email.com',
            Payload: '{"type":"farmerApplyData-eligibleSpecies","message":"Session set for farmerApplyData and eligibleSpecies.","data":{"eligibleSpecies":"yes"},"raisedBy":"1100000210@email.com","raisedOn":"2023-02-22T15:16:26.305Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000200',
            rowKey: '105000200_1677078987488',
            timestamp: '2023-02-22T15:16:28.4402785Z',
            SessionId: '1573b19c-3d4f-4fe4-b46c-3a252a21a5ac',
            EventType: 'farmerApplyData-reference',
            EventRaised: '2023-02-22T15:16:27.488Z',
            EventBy: '1100000210@email.com',
            Payload: '{"type":"farmerApplyData-reference","message":"Session set for farmerApplyData and reference.","data":{"reference":null},"raisedBy":"1100000210@email.com","raisedOn":"2023-02-22T15:16:27.488Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000200',
            rowKey: '105000200_1677078989725',
            timestamp: '2023-02-22T15:16:30.4581233Z',
            SessionId: '1573b19c-3d4f-4fe4-b46c-3a252a21a5ac',
            EventType: 'farmerApplyData-declaration',
            EventRaised: '2023-02-22T15:16:29.725Z',
            EventBy: '1100000210@email.com',
            Payload: '{"type":"farmerApplyData-declaration","message":"Session set for farmerApplyData and declaration.","data":{"declaration":true},"raisedBy":"1100000210@email.com","raisedOn":"2023-02-22T15:16:29.725Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000200',
            rowKey: '105000200_1677078989732',
            timestamp: '2023-02-22T15:16:30.5550674Z',
            SessionId: '1573b19c-3d4f-4fe4-b46c-3a252a21a5ac',
            EventType: 'farmerApplyData-offerStatus',
            EventRaised: '2023-02-22T15:16:29.732Z',
            EventBy: '1100000210@email.com',
            Payload: '{"type":"farmerApplyData-offerStatus","message":"Session set for farmerApplyData and offerStatus.","data":{"offerStatus":"accepted"},"raisedBy":"1100000210@email.com","raisedOn":"2023-02-22T15:16:29.732Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000200',
            rowKey: '105000200_1677078994174',
            timestamp: '2023-02-22T15:16:35.1744216Z',
            SessionId: '1573b19c-3d4f-4fe4-b46c-3a252a21a5ac',
            EventType: 'farmerApplyData-reference',
            EventRaised: '2023-02-22T15:16:34.174Z',
            EventBy: '1100000210@email.com',
            Payload: '{"type":"farmerApplyData-reference","message":"Session set for farmerApplyData and reference.","data":{"reference":"AHWR-FF86-2C53"},"raisedBy":"1100000210@email.com","raisedOn":"2023-02-22T15:16:34.174Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079319571',
            timestamp: '2023-02-22T15:22:00.3549918Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'farmerApplyData-organisation',
            EventRaised: '2023-02-22T15:21:59.571Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"farmerApplyData-organisation","message":"Session set for farmerApplyData and organisation.","data":{"organisation":{"farmerName":"Mr Farmer 212","name":"My Farm Batch 7 Ltd","sbi":"105000202","crn":"1100000212","address":"125 Main Road, Covenham St. Bartholomew, Louth, LN11 0PF, United Kingdom","email":"1100000212@email.com","orgEmail":"1100000212@orgemail.com"}},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:21:59.571Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079321331',
            timestamp: '2023-02-22T15:22:02.195937Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'farmerApplyData-confirmCheckDetails',
            EventRaised: '2023-02-22T15:22:01.331Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"farmerApplyData-confirmCheckDetails","message":"Session set for farmerApplyData and confirmCheckDetails.","data":{"confirmCheckDetails":"yes"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:01.331Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079322603',
            timestamp: '2023-02-22T15:22:03.2393397Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'farmerApplyData-whichReview',
            EventRaised: '2023-02-22T15:22:02.603Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"farmerApplyData-whichReview","message":"Session set for farmerApplyData and whichReview.","data":{"whichReview":"pigs"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:02.603Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079324757',
            timestamp: '2023-02-22T15:22:05.3651216Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'farmerApplyData-eligibleSpecies',
            EventRaised: '2023-02-22T15:22:04.757Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"farmerApplyData-eligibleSpecies","message":"Session set for farmerApplyData and eligibleSpecies.","data":{"eligibleSpecies":"yes"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:04.757Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079325928',
            timestamp: '2023-02-22T15:22:06.5314566Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'farmerApplyData-reference',
            EventRaised: '2023-02-22T15:22:05.928Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"farmerApplyData-reference","message":"Session set for farmerApplyData and reference.","data":{"reference":null},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:05.928Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079328506',
            timestamp: '2023-02-22T15:22:09.215917Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'farmerApplyData-declaration',
            EventRaised: '2023-02-22T15:22:08.506Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"farmerApplyData-declaration","message":"Session set for farmerApplyData and declaration.","data":{"declaration":true},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:08.506Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079328513',
            timestamp: '2023-02-22T15:22:09.1689447Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'farmerApplyData-offerStatus',
            EventRaised: '2023-02-22T15:22:08.513Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"farmerApplyData-offerStatus","message":"Session set for farmerApplyData and offerStatus.","data":{"offerStatus":"accepted"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:08.513Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079331638',
            timestamp: '2023-02-22T15:22:12.3691125Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'farmerApplyData-reference',
            EventRaised: '2023-02-22T15:22:11.638Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"farmerApplyData-reference","message":"Session set for farmerApplyData and reference.","data":{"reference":"AHWR-9D11-0EAA"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:11.638Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079349346',
            timestamp: '2023-02-22T15:22:30.4897363Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'claim-organisation',
            EventRaised: '2023-02-22T15:22:29.346Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"claim-organisation","message":"Session set for claim and organisation.","data":{"organisation":{"farmerName":"Mr Farmer 212","name":"My Farm Batch 7 Ltd","sbi":"105000202","crn":"1100000212","address":"125 Main Road, Covenham St. Bartholomew, Louth, LN11 0PF, United Kingdom","email":"1100000212@email.com"}},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:29.346Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079349432',
            timestamp: '2023-02-22T15:22:30.5117237Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'selectYourBusiness-eligibleBusinesses',
            EventRaised: '2023-02-22T15:22:29.432Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"selectYourBusiness-eligibleBusinesses","message":"Session set for selectYourBusiness and eligibleBusinesses.","data":{"eligibleBusinesses":[{"id":"9d110eaa-9c89-4e66-8f7c-69eadea71216","reference":"AHWR-9D11-0EAA","data":{"reference":null,"declaration":true,"offerStatus":"accepted","whichReview":"pigs","organisation":{"crn":"1100000212","sbi":"105000202","name":"My Farm Batch 7 Ltd","email":"1100000212@email.com","address":"125 Main Road, Covenham St. Bartholomew, Louth, LN11 0PF, United Kingdom","farmerName":"Mr Farmer 212"},"eligibleSpecies":"yes","confirmCheckDetails":"yes"},"claimed":false,"createdAt":"2023-02-22T15:22:09.192Z","updatedAt":"2023-02-22T15:22:09.211Z","createdBy":"admin","updatedBy":null,"statusId":1}]},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:29.432Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079352144',
            timestamp: '2023-02-22T15:22:33.7488708Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'selectYourBusiness-whichBusiness',
            EventRaised: '2023-02-22T15:22:32.144Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"selectYourBusiness-whichBusiness","message":"Session set for selectYourBusiness and whichBusiness.","data":{"whichBusiness":"105000202"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:32.144Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079352150',
            timestamp: '2023-02-22T15:22:33.7898466Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'claim-id',
            EventRaised: '2023-02-22T15:22:32.150Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"claim-id","message":"Session set for claim and id.","data":{"id":"9d110eaa-9c89-4e66-8f7c-69eadea71216"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:32.150Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079352154',
            timestamp: '2023-02-22T15:22:33.6539248Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'claim-reference',
            EventRaised: '2023-02-22T15:22:32.154Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"claim-reference","message":"Session set for claim and reference.","data":{"reference":"AHWR-9D11-0EAA"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:32.154Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079352158',
            timestamp: '2023-02-22T15:22:33.8028393Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'claim-data',
            EventRaised: '2023-02-22T15:22:32.158Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"claim-data","message":"Session set for claim and data.","data":{"data":{"reference":null,"declaration":true,"offerStatus":"accepted","whichReview":"pigs","organisation":{"crn":"1100000212","sbi":"105000202","name":"My Farm Batch 7 Ltd","email":"1100000212@email.com","address":"125 Main Road, Covenham St. Bartholomew, Louth, LN11 0PF, United Kingdom","farmerName":"Mr Farmer 212"},"eligibleSpecies":"yes","confirmCheckDetails":"yes"}},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:32.158Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079352161',
            timestamp: '2023-02-22T15:22:33.8069084Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'claim-claimed',
            EventRaised: '2023-02-22T15:22:32.161Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"claim-claimed","message":"Session set for claim and claimed.","data":{"claimed":false},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:32.161Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079352163',
            timestamp: '2023-02-22T15:22:33.8030894Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'claim-createdAt',
            EventRaised: '2023-02-22T15:22:32.163Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"claim-createdAt","message":"Session set for claim and createdAt.","data":{"createdAt":"2023-02-22T15:22:09.192Z"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:32.163Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079352167',
            timestamp: '2023-02-22T15:22:33.7638615Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'claim-updatedAt',
            EventRaised: '2023-02-22T15:22:32.167Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"claim-updatedAt","message":"Session set for claim and updatedAt.","data":{"updatedAt":"2023-02-22T15:22:09.211Z"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:32.167Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079352173',
            timestamp: '2023-02-22T15:22:33.8028691Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'claim-createdBy',
            EventRaised: '2023-02-22T15:22:32.173Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"claim-createdBy","message":"Session set for claim and createdBy.","data":{"createdBy":"admin"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:32.173Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079352179',
            timestamp: '2023-02-22T15:22:33.7937456Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'claim-updatedBy',
            EventRaised: '2023-02-22T15:22:32.179Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"claim-updatedBy","message":"Session set for claim and updatedBy.","data":{"updatedBy":null},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:32.179Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079352187',
            timestamp: '2023-02-22T15:22:33.7932963Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'claim-statusId',
            EventRaised: '2023-02-22T15:22:32.187Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"claim-statusId","message":"Session set for claim and statusId.","data":{"statusId":1},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:32.187Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079355048',
            timestamp: '2023-02-22T15:22:36.5303481Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'claim-detailsCorrect',
            EventRaised: '2023-02-22T15:22:35.048Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"claim-detailsCorrect","message":"Session set for claim and detailsCorrect.","data":{"detailsCorrect":"yes"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:35.048Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079360463',
            timestamp: '2023-02-22T15:22:41.4935051Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'claim-visitDate',
            EventRaised: '2023-02-22T15:22:40.463Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"claim-visitDate","message":"Session set for claim and visitDate.","data":{"visitDate":"2023-02-22T00:00:00.000Z"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:40.463Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079360463',
            timestamp: '2023-02-22T15:22:41.4935051Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'claim-dateOfTesting',
            EventRaised: '2023-02-22T15:22:40.463Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"claim-dateOfTesting","message":"Session set for claim and dateOfTesting.","data":{"dateOfTesting":"2023-08-03T00:00:00.000Z"},"raisedBy":"automation.business28@test.com","raisedOn":"2023-08-03T09:29:16.631Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079362767',
            timestamp: '2023-02-22T15:22:44.2239407Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'claim-vetName',
            EventRaised: '2023-02-22T15:22:42.767Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"claim-vetName","message":"Session set for claim and vetName.","data":{"vetName":"ssdaje"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:42.767Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079366556',
            timestamp: '2023-02-22T15:22:47.4920695Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'claim-vetRcvs',
            EventRaised: '2023-02-22T15:22:46.556Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"claim-vetRcvs","message":"Session set for claim and vetRcvs.","data":{"vetRcvs":"1111112"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:46.556Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079368560',
            timestamp: '2023-02-22T15:22:49.5269033Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'claim-urnResult',
            EventRaised: '2023-02-22T15:22:48.560Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"claim-urnResult","message":"Session set for claim and urnResult.","data":{"urnResult":"URNURN"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:48.560Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1677079374873',
            timestamp: '2023-02-22T15:22:55.6344047Z',
            SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
            EventType: 'claim-claimed',
            EventRaised: '2023-02-22T15:22:54.873Z',
            EventBy: '1100000212@email.com',
            Payload: '{"type":"claim-claimed","message":"Session set for claim and claimed.","data":{"claimed":"success"},"raisedBy":"1100000212@email.com","raisedOn":"2023-02-22T15:22:54.873Z"}',
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1678177224031',
            timestamp: '2023-03-07T08:20:24.8923912Z',
            SessionId: 'fb6518a0-c6bf-4f21-93c1-9de5ad7a5f93',
            EventType: 'application:status-updated:2',
            EventRaised: '2023-03-07T08:20:24.031Z',
            EventBy: 'Christopher',
            Payload: `{
              "type":"application:status-updated",
              "message":"Application has been updated",
              "data":{"reference":"AHWR-9D11-0EAA","statusId":2},
              "raisedBy":"Firstname1, LastName1",
              "raisedOn":"2023-03-07T08:20:24.031Z"
            }`,
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1678177224031',
            timestamp: '2023-03-07T08:20:24.8923912Z',
            SessionId: 'fb6518a0-c6bf-4f21-93c1-9de5ad7a5f93',
            EventType: 'application:status-updated:9',
            EventRaised: '2023-03-07T08:21:24.031Z',
            EventBy: 'Christopher',
            Payload: `{
              "type":"application:status-updated",
              "message":"Application has been updated",
              "data":{"reference":"AHWR-9D11-0EAA","statusId":9},
              "raisedBy":"Firstname2, LastName2",
              "raisedOn":"2023-03-07T08:21:24.031Z"
            }`,
            Status: 'success'
          },
          {
            partitionKey: '105000202',
            rowKey: '105000202_1678177224031',
            timestamp: '2023-03-07T08:20:24.8923912Z',
            SessionId: 'fb6518a0-c6bf-4f21-93c1-9de5ad7a5f93',
            EventType: 'application:status-updated:10',
            EventRaised: '2023-03-07T08:22:24.031Z',
            EventBy: 'Marcin',
            Payload: `{
              "type":"application:status-updated",
              "message":"Application has been updated",
              "data":{"reference":"AHWR-9D11-0EAA","statusId":10},
              "raisedBy":"Firstname3, LastName3",
              "raisedOn":"2023-03-07T08:22:24.031Z"
            }`,
            Status: 'success'
          }
        ]
      },
      expect: {
        parsedEvents: [
          {
            address: '123 Main Road"," Covenham St. Bartholomew"," Louth"," LN11 0PF"," United Kingdom',
            applicationNumber: 'AHWR-FF86-2C53',
            claimClaimed: '',
            claimClaimedRaisedOn: '',
            claimDateOfTesting: 'Unknown',
            claimDateOfTestingRaisedOn: '',
            claimDetailsCorrect: '',
            claimDetailsCorrectRaisedOn: '',
            claimUrnResult: '',
            claimUrnResultRaisedOn: '',
            claimVetName: '',
            claimVetNameRaisedOn: '',
            claimVetRcvs: '',
            claimVetRcvsRaisedOn: '',
            claimVisitDate: 'Unknown',
            claimVisitDateRaisedOn: '',
            confirmCheckDetails: 'yes',
            confirmCheckDetailsRaisedOn: '22/02/2023 15:16',
            cph: undefined,
            declaration: 'yes',
            declarationRaisedOn: '22/02/2023 15:16',
            eligibleSpecies: 'yes',
            eligibleSpeciesRaisedOn: '22/02/2023 15:16',
            email: '1100000210@email.com',
            orgEmail: '1100000210@orgemail.com',
            farmer: 'Mr Farmer 210',
            name: 'My Farm Batch 7 Ltd',
            sbi: '105000200',
            whichReview: 'dairy',
            whichReviewRaisedOn: '22/02/2023 15:16',
            applicationWithdrawn: 'no',
            applicationWithdrawnBy: 'n/a',
            applicationWithdrawnOn: 'n/a',
            claimApproved: 'no',
            claimApprovedBy: 'n/a',
            claimApprovedOn: 'n/a',
            claimRejected: 'no',
            claimRejectedBy: 'n/a',
            claimRejectedOn: 'n/a',
            agreementCurrentStatus: 'n/a',
            recommendedToPay: '',
            recommendedToReject: '',
            recommendedOn: '',
            recommendedBy: ''
          },
          {
            address: '125 Main Road"," Covenham St. Bartholomew"," Louth"," LN11 0PF"," United Kingdom',
            applicationNumber: 'AHWR-9D11-0EAA',
            claimClaimed: 'success',
            claimClaimedRaisedOn: '22/02/2023 15:22',
            claimDateOfTesting: '03/08/2023',
            claimDateOfTestingRaisedOn: '03/08/2023 09:29',
            claimDetailsCorrect: 'yes',
            claimDetailsCorrectRaisedOn: '22/02/2023 15:22',
            claimUrnResult: 'URNURN',
            claimUrnResultRaisedOn: '22/02/2023 15:22',
            claimVetName: 'ssdaje',
            claimVetNameRaisedOn: '22/02/2023 15:22',
            claimVetRcvs: '1111112',
            claimVetRcvsRaisedOn: '22/02/2023 15:22',
            claimVisitDate: '22/02/2023',
            claimVisitDateRaisedOn: '22/02/2023 15:22',
            confirmCheckDetails: 'yes',
            confirmCheckDetailsRaisedOn: '22/02/2023 15:22',
            cph: undefined,
            declaration: 'yes',
            declarationRaisedOn: '22/02/2023 15:22',
            eligibleSpecies: 'yes',
            eligibleSpeciesRaisedOn: '22/02/2023 15:22',
            email: '1100000212@email.com',
            orgEmail: '1100000212@orgemail.com',
            farmer: 'Mr Farmer 212',
            name: 'My Farm Batch 7 Ltd',
            sbi: '105000202',
            whichReview: 'pigs',
            whichReviewRaisedOn: '22/02/2023 15:22',
            applicationWithdrawn: 'yes',
            applicationWithdrawnBy: 'Firstname1 LastName1',
            applicationWithdrawnOn: '07/03/2023 08:20',
            claimApproved: 'yes',
            claimApprovedBy: 'Firstname2 LastName2',
            claimApprovedOn: '07/03/2023 08:21',
            claimRejected: 'yes',
            claimRejectedBy: 'Firstname3 LastName3',
            claimRejectedOn: '07/03/2023 08:22',
            agreementCurrentStatus: 'REJECTED',
            recommendedToPay: '',
            recommendedToReject: '',
            recommendedOn: '',
            recommendedBy: ''
          }
        ]
      }
    },
    {
      toString: () => 'farmer apply, claim - Status RECOMMENDED TO PAY with older record status 5 (in Check) plus sub-status',
      given: {
        events: [...applyEvents, ...claimJourneyEvents,
          {
            partitionKey: '205000202',
            rowKey: '205000202_1678177224031',
            timestamp: '2023-03-07T08:20:24.8923912Z',
            SessionId: 'fb6518a0-c6bf-4f21-93c1-9de5ad7a5f93',
            EventType: 'application:status-updated:5',
            EventRaised: '2023-03-07T08:21:24.031Z',
            EventBy: 'Christopher',
            Payload: `{
              "type":"application:status-updated",
              "message":"Application has been updated",
              "data":{"reference":"AHWR-9D11-0EAA","statusId":5},
              "raisedBy":"Christopher",
              "raisedOn":"2023-03-07T08:21:24.031Z"
            }`,
            Status: 'success'
          },
          {
            partitionKey: '205000202',
            rowKey: '205000202_1678177224031',
            timestamp: '2023-03-07T08:20:25.8923912Z',
            SessionId: 'fb6518a0-c6bf-4f21-93c1-9de5ad7a5f93',
            EventType: 'application:status-updated:5',
            EventRaised: '2023-03-07T08:21:25.031Z',
            EventBy: 'Developer',
            Payload: `{
              "type":"application:status-updated:5",
              "message":"New stage execution has been created",
              "data":{
                "reference":"AHWR-9D11-0EAA",
                "statusId":5,
                "subStatus":"Recommend to pay"
              },
              "raisedBy":"Developer",
              "raisedOn":"2023-05-24T15:12:08.966Z",
              "timestamp":"2023-05-24T15:12:09.009Z"
            }`,
            Status: 'success'
          }
        ]
      },
      expect: {
        parsedEvents: [
          {
            address: '123 Main Road"," Covenham St. Bartholomew"," Louth"," LN11 0PF"," United Kingdom',
            applicationNumber: 'AHWR-FF86-2C53',
            claimClaimed: '',
            claimClaimedRaisedOn: '',
            claimDateOfTesting: 'Unknown',
            claimDateOfTestingRaisedOn: '',
            claimDetailsCorrect: '',
            claimDetailsCorrectRaisedOn: '',
            claimUrnResult: '',
            claimUrnResultRaisedOn: '',
            claimVetName: '',
            claimVetNameRaisedOn: '',
            claimVetRcvs: '',
            claimVetRcvsRaisedOn: '',
            claimVisitDate: 'Unknown',
            claimVisitDateRaisedOn: '',
            confirmCheckDetails: 'yes',
            confirmCheckDetailsRaisedOn: '22/02/2023 15:16',
            cph: undefined,
            declaration: 'yes',
            declarationRaisedOn: '22/02/2023 15:16',
            eligibleSpecies: 'yes',
            eligibleSpeciesRaisedOn: '22/02/2023 15:16',
            email: '1100000210@email.com',
            orgEmail: '',
            farmer: 'Mr Farmer 210',
            name: 'My Farm Batch 7 Ltd',
            sbi: '105000200',
            whichReview: 'dairy',
            whichReviewRaisedOn: '22/02/2023 15:16',
            applicationWithdrawn: 'no',
            applicationWithdrawnBy: 'n/a',
            applicationWithdrawnOn: 'n/a',
            claimApproved: 'no',
            claimApprovedBy: 'n/a',
            claimApprovedOn: 'n/a',
            claimRejected: 'no',
            claimRejectedBy: 'n/a',
            claimRejectedOn: 'n/a',
            agreementCurrentStatus: 'n/a',
            recommendedToPay: '',
            recommendedToReject: '',
            recommendedOn: '',
            recommendedBy: ''
          },
          {
            address: '125 Main Road"," Covenham St. Bartholomew"," Louth"," LN11 0PF"," United Kingdom',
            applicationNumber: 'AHWR-9D11-0EAA',
            claimClaimed: 'success',
            claimClaimedRaisedOn: '22/02/2023 15:22',
            claimDateOfTesting: 'Unknown',
            claimDateOfTestingRaisedOn: '',
            claimDetailsCorrect: 'yes',
            claimDetailsCorrectRaisedOn: '22/02/2023 15:22',
            claimUrnResult: 'URNURN',
            claimUrnResultRaisedOn: '22/02/2023 15:22',
            claimVetName: 'ssdaje',
            claimVetNameRaisedOn: '22/02/2023 15:22',
            claimVetRcvs: '1111112',
            claimVetRcvsRaisedOn: '22/02/2023 15:22',
            claimVisitDate: '22/02/2023',
            claimVisitDateRaisedOn: '22/02/2023 15:22',
            confirmCheckDetails: 'yes',
            confirmCheckDetailsRaisedOn: '22/02/2023 15:22',
            cph: undefined,
            declaration: 'yes',
            declarationRaisedOn: '22/02/2023 15:22',
            eligibleSpecies: 'yes',
            eligibleSpeciesRaisedOn: '22/02/2023 15:22',
            email: '1100000212@email.com',
            orgEmail: '',
            farmer: 'Mr Farmer 212',
            name: 'My Farm Batch 7 Ltd',
            sbi: '105000202',
            whichReview: 'pigs',
            whichReviewRaisedOn: '22/02/2023 15:22',
            applicationWithdrawn: 'no',
            applicationWithdrawnBy: 'n/a',
            applicationWithdrawnOn: 'n/a',
            claimApproved: 'no',
            claimApprovedBy: 'n/a',
            claimApprovedOn: 'n/a',
            claimRejected: 'no',
            claimRejectedBy: 'n/a',
            claimRejectedOn: 'n/a',
            agreementCurrentStatus: 'RECOMMENDED TO PAY',
            recommendedToPay: 'yes',
            recommendedToReject: '',
            recommendedOn: '24/05/2023 15:12',
            recommendedBy: 'Developer'
          }
        ]
      }
    },
    {
      toString: () => 'farmer apply, claim - Status RECOMMENDED TO PAY, no sub-status',
      given: {
        events: [...applyEvents, ...claimJourneyEvents,
          {
            partitionKey: '205000202',
            rowKey: '205000202_1678177224031',
            timestamp: '2023-03-07T08:20:24.8923912Z',
            SessionId: 'fb6518a0-c6bf-4f21-93c1-9de5ad7a5f93',
            EventType: 'application:status-updated:5',
            EventRaised: '2023-03-07T08:21:24.031Z',
            EventBy: 'Christopher',
            Payload: `{
              "type":"application:status-updated",
              "message":"Application has been updated",
              "data":{"reference":"AHWR-9D11-0EAA","statusId":5},
              "raisedBy":"Christopher",
              "raisedOn":"2023-03-07T08:21:24.031Z"
            }`,
            Status: 'success'
          },
          {
            partitionKey: '205000202',
            rowKey: '205000202_1678177224031',
            timestamp: '2023-03-07T08:20:25.8923912Z',
            SessionId: 'fb6518a0-c6bf-4f21-93c1-9de5ad7a5f93',
            EventType: 'application:status-updated:12',
            EventRaised: '2023-03-07T08:21:25.031Z',
            EventBy: 'Developer',
            Payload: `{
              "type":"application:status-updated:12",
              "message":"Application has been updated",
              "data":{
                "reference":"AHWR-9D11-0EAA",
                "statusId":12
              },
              "raisedBy":"Developer",
              "raisedOn":"2023-05-24T15:12:08.966Z",
              "timestamp":"2023-05-24T15:12:09.009Z"
            }`,
            Status: 'success'
          }
        ]
      },
      expect: {
        parsedEvents: [
          {
            address: '123 Main Road"," Covenham St. Bartholomew"," Louth"," LN11 0PF"," United Kingdom',
            applicationNumber: 'AHWR-FF86-2C53',
            claimClaimed: '',
            claimClaimedRaisedOn: '',
            claimDateOfTesting: 'Unknown',
            claimDateOfTestingRaisedOn: '',
            claimDetailsCorrect: '',
            claimDetailsCorrectRaisedOn: '',
            claimUrnResult: '',
            claimUrnResultRaisedOn: '',
            claimVetName: '',
            claimVetNameRaisedOn: '',
            claimVetRcvs: '',
            claimVetRcvsRaisedOn: '',
            claimVisitDate: 'Unknown',
            claimVisitDateRaisedOn: '',
            confirmCheckDetails: 'yes',
            confirmCheckDetailsRaisedOn: '22/02/2023 15:16',
            cph: undefined,
            declaration: 'yes',
            declarationRaisedOn: '22/02/2023 15:16',
            eligibleSpecies: 'yes',
            eligibleSpeciesRaisedOn: '22/02/2023 15:16',
            email: '1100000210@email.com',
            orgEmail: '',
            farmer: 'Mr Farmer 210',
            name: 'My Farm Batch 7 Ltd',
            sbi: '105000200',
            whichReview: 'dairy',
            whichReviewRaisedOn: '22/02/2023 15:16',
            applicationWithdrawn: 'no',
            applicationWithdrawnBy: 'n/a',
            applicationWithdrawnOn: 'n/a',
            claimApproved: 'no',
            claimApprovedBy: 'n/a',
            claimApprovedOn: 'n/a',
            claimRejected: 'no',
            claimRejectedBy: 'n/a',
            claimRejectedOn: 'n/a',
            agreementCurrentStatus: 'n/a',
            recommendedToPay: '',
            recommendedToReject: '',
            recommendedOn: '',
            recommendedBy: ''
          },
          {
            address: '125 Main Road"," Covenham St. Bartholomew"," Louth"," LN11 0PF"," United Kingdom',
            applicationNumber: 'AHWR-9D11-0EAA',
            claimClaimed: 'success',
            claimClaimedRaisedOn: '22/02/2023 15:22',
            claimDateOfTesting: 'Unknown',
            claimDateOfTestingRaisedOn: '',
            claimDetailsCorrect: 'yes',
            claimDetailsCorrectRaisedOn: '22/02/2023 15:22',
            claimUrnResult: 'URNURN',
            claimUrnResultRaisedOn: '22/02/2023 15:22',
            claimVetName: 'ssdaje',
            claimVetNameRaisedOn: '22/02/2023 15:22',
            claimVetRcvs: '1111112',
            claimVetRcvsRaisedOn: '22/02/2023 15:22',
            claimVisitDate: '22/02/2023',
            claimVisitDateRaisedOn: '22/02/2023 15:22',
            confirmCheckDetails: 'yes',
            confirmCheckDetailsRaisedOn: '22/02/2023 15:22',
            cph: undefined,
            declaration: 'yes',
            declarationRaisedOn: '22/02/2023 15:22',
            eligibleSpecies: 'yes',
            eligibleSpeciesRaisedOn: '22/02/2023 15:22',
            email: '1100000212@email.com',
            orgEmail: '',
            farmer: 'Mr Farmer 212',
            name: 'My Farm Batch 7 Ltd',
            sbi: '105000202',
            whichReview: 'pigs',
            whichReviewRaisedOn: '22/02/2023 15:22',
            applicationWithdrawn: 'no',
            applicationWithdrawnBy: 'n/a',
            applicationWithdrawnOn: 'n/a',
            claimApproved: 'no',
            claimApprovedBy: 'n/a',
            claimApprovedOn: 'n/a',
            claimRejected: 'no',
            claimRejectedBy: 'n/a',
            claimRejectedOn: 'n/a',
            agreementCurrentStatus: 'RECOMMENDED TO PAY',
            recommendedToPay: 'yes',
            recommendedToReject: '',
            recommendedOn: '24/05/2023 15:12',
            recommendedBy: 'Developer'
          }
        ]
      }
    },
    {
      toString: () => 'farmer apply, claim - Status RECOMMENDED TO REJECT with older record status 5 (in Check) plus sub-status',
      given: {
        events: [...applyEvents, ...claimJourneyEvents,
          {
            partitionKey: '205000202',
            rowKey: '205000202_1678177224031',
            timestamp: '2023-03-07T08:20:24.8923912Z',
            SessionId: 'fb6518a0-c6bf-4f21-93c1-9de5ad7a5f93',
            EventType: 'application:status-updated:5',
            EventRaised: '2023-03-07T08:21:24.031Z',
            EventBy: 'Christopher',
            Payload: `{
              "type":"application:status-updated",
              "message":"Application has been updated",
              "data":{"reference":"AHWR-9D11-0EAA","statusId":5},
              "raisedBy":"Christopher",
              "raisedOn":"2023-03-07T08:21:24.031Z"
            }`,
            Status: 'success'
          },
          {
            partitionKey: '205000202',
            rowKey: '205000202_1678177224031',
            timestamp: '2023-03-07T08:20:25.8923912Z',
            SessionId: 'fb6518a0-c6bf-4f21-93c1-9de5ad7a5f93',
            EventType: 'application:status-updated:5',
            EventRaised: '2023-03-07T08:21:25.031Z',
            EventBy: 'Developer',
            Payload: `{
              "type":"application:status-updated:5",
              "message":"New stage execution has been created",
              "data":{
                "reference":"AHWR-9D11-0EAA",
                "statusId":5,
                "subStatus":"Recommend to reject"
              },
              "raisedBy":"Developer",
              "raisedOn":"2023-05-24T15:12:08.966Z",
              "timestamp":"2023-05-24T15:12:09.009Z"
            }`,
            Status: 'success'
          }
        ]
      },
      expect: {
        parsedEvents: [
          {
            address: '123 Main Road"," Covenham St. Bartholomew"," Louth"," LN11 0PF"," United Kingdom',
            applicationNumber: 'AHWR-FF86-2C53',
            claimClaimed: '',
            claimClaimedRaisedOn: '',
            claimDateOfTesting: 'Unknown',
            claimDateOfTestingRaisedOn: '',
            claimDetailsCorrect: '',
            claimDetailsCorrectRaisedOn: '',
            claimUrnResult: '',
            claimUrnResultRaisedOn: '',
            claimVetName: '',
            claimVetNameRaisedOn: '',
            claimVetRcvs: '',
            claimVetRcvsRaisedOn: '',
            claimVisitDate: 'Unknown',
            claimVisitDateRaisedOn: '',
            confirmCheckDetails: 'yes',
            confirmCheckDetailsRaisedOn: '22/02/2023 15:16',
            cph: undefined,
            declaration: 'yes',
            declarationRaisedOn: '22/02/2023 15:16',
            eligibleSpecies: 'yes',
            eligibleSpeciesRaisedOn: '22/02/2023 15:16',
            email: '1100000210@email.com',
            orgEmail: '',
            farmer: 'Mr Farmer 210',
            name: 'My Farm Batch 7 Ltd',
            sbi: '105000200',
            whichReview: 'dairy',
            whichReviewRaisedOn: '22/02/2023 15:16',
            applicationWithdrawn: 'no',
            applicationWithdrawnBy: 'n/a',
            applicationWithdrawnOn: 'n/a',
            claimApproved: 'no',
            claimApprovedBy: 'n/a',
            claimApprovedOn: 'n/a',
            claimRejected: 'no',
            claimRejectedBy: 'n/a',
            claimRejectedOn: 'n/a',
            agreementCurrentStatus: 'n/a',
            recommendedToPay: '',
            recommendedToReject: '',
            recommendedOn: '',
            recommendedBy: ''
          },
          {
            address: '125 Main Road"," Covenham St. Bartholomew"," Louth"," LN11 0PF"," United Kingdom',
            applicationNumber: 'AHWR-9D11-0EAA',
            claimClaimed: 'success',
            claimClaimedRaisedOn: '22/02/2023 15:22',
            claimDateOfTesting: 'Unknown',
            claimDateOfTestingRaisedOn: '',
            claimDetailsCorrect: 'yes',
            claimDetailsCorrectRaisedOn: '22/02/2023 15:22',
            claimUrnResult: 'URNURN',
            claimUrnResultRaisedOn: '22/02/2023 15:22',
            claimVetName: 'ssdaje',
            claimVetNameRaisedOn: '22/02/2023 15:22',
            claimVetRcvs: '1111112',
            claimVetRcvsRaisedOn: '22/02/2023 15:22',
            claimVisitDate: '22/02/2023',
            claimVisitDateRaisedOn: '22/02/2023 15:22',
            confirmCheckDetails: 'yes',
            confirmCheckDetailsRaisedOn: '22/02/2023 15:22',
            cph: undefined,
            declaration: 'yes',
            declarationRaisedOn: '22/02/2023 15:22',
            eligibleSpecies: 'yes',
            eligibleSpeciesRaisedOn: '22/02/2023 15:22',
            email: '1100000212@email.com',
            orgEmail: '',
            farmer: 'Mr Farmer 212',
            name: 'My Farm Batch 7 Ltd',
            sbi: '105000202',
            whichReview: 'pigs',
            whichReviewRaisedOn: '22/02/2023 15:22',
            applicationWithdrawn: 'no',
            applicationWithdrawnBy: 'n/a',
            applicationWithdrawnOn: 'n/a',
            claimApproved: 'no',
            claimApprovedBy: 'n/a',
            claimApprovedOn: 'n/a',
            claimRejected: 'no',
            claimRejectedBy: 'n/a',
            claimRejectedOn: 'n/a',
            agreementCurrentStatus: 'RECOMMENDED TO REJECT',
            recommendedToPay: '',
            recommendedToReject: 'yes',
            recommendedOn: '24/05/2023 15:12',
            recommendedBy: 'Developer'
          }
        ]
      }
    },
    {
      toString: () => 'farmer apply, claim - Status RECOMMENDED TO REJECT, no sub-status',
      given: {
        events: [...applyEvents, ...claimJourneyEvents,
          {
            partitionKey: '205000202',
            rowKey: '205000202_1678177224031',
            timestamp: '2023-03-07T08:20:24.8923912Z',
            SessionId: 'fb6518a0-c6bf-4f21-93c1-9de5ad7a5f93',
            EventType: 'application:status-updated:5',
            EventRaised: '2023-03-07T08:21:24.031Z',
            EventBy: 'Christopher',
            Payload: `{
              "type":"application:status-updated",
              "message":"Application has been updated",
              "data":{"reference":"AHWR-9D11-0EAA","statusId":5},
              "raisedBy":"Christopher",
              "raisedOn":"2023-03-07T08:21:24.031Z"
            }`,
            Status: 'success'
          },
          {
            partitionKey: '205000202',
            rowKey: '205000202_1678177224031',
            timestamp: '2023-03-07T08:20:25.8923912Z',
            SessionId: 'fb6518a0-c6bf-4f21-93c1-9de5ad7a5f93',
            EventType: 'application:status-updated:13',
            EventRaised: '2023-03-07T08:21:25.031Z',
            EventBy: 'Developer',
            Payload: `{
              "type":"application:status-updated:13",
              "message":"Application has been updated",
              "data":{
                "reference":"AHWR-9D11-0EAA",
                "statusId":13
              },
              "raisedBy":"Developer",
              "raisedOn":"2023-05-24T15:12:08.966Z",
              "timestamp":"2023-05-24T15:12:09.009Z"
            }`,
            Status: 'success'
          }
        ]
      },
      expect: {
        parsedEvents: [
          {
            address: '123 Main Road"," Covenham St. Bartholomew"," Louth"," LN11 0PF"," United Kingdom',
            applicationNumber: 'AHWR-FF86-2C53',
            claimClaimed: '',
            claimClaimedRaisedOn: '',
            claimDateOfTesting: 'Unknown',
            claimDateOfTestingRaisedOn: '',
            claimDetailsCorrect: '',
            claimDetailsCorrectRaisedOn: '',
            claimUrnResult: '',
            claimUrnResultRaisedOn: '',
            claimVetName: '',
            claimVetNameRaisedOn: '',
            claimVetRcvs: '',
            claimVetRcvsRaisedOn: '',
            claimVisitDate: 'Unknown',
            claimVisitDateRaisedOn: '',
            confirmCheckDetails: 'yes',
            confirmCheckDetailsRaisedOn: '22/02/2023 15:16',
            cph: undefined,
            declaration: 'yes',
            declarationRaisedOn: '22/02/2023 15:16',
            eligibleSpecies: 'yes',
            eligibleSpeciesRaisedOn: '22/02/2023 15:16',
            email: '1100000210@email.com',
            orgEmail: '',
            farmer: 'Mr Farmer 210',
            name: 'My Farm Batch 7 Ltd',
            sbi: '105000200',
            whichReview: 'dairy',
            whichReviewRaisedOn: '22/02/2023 15:16',
            applicationWithdrawn: 'no',
            applicationWithdrawnBy: 'n/a',
            applicationWithdrawnOn: 'n/a',
            claimApproved: 'no',
            claimApprovedBy: 'n/a',
            claimApprovedOn: 'n/a',
            claimRejected: 'no',
            claimRejectedBy: 'n/a',
            claimRejectedOn: 'n/a',
            agreementCurrentStatus: 'n/a',
            recommendedToPay: '',
            recommendedToReject: '',
            recommendedOn: '',
            recommendedBy: ''
          },
          {
            address: '125 Main Road"," Covenham St. Bartholomew"," Louth"," LN11 0PF"," United Kingdom',
            applicationNumber: 'AHWR-9D11-0EAA',
            claimClaimed: 'success',
            claimClaimedRaisedOn: '22/02/2023 15:22',
            claimDateOfTesting: 'Unknown',
            claimDateOfTestingRaisedOn: '',
            claimDetailsCorrect: 'yes',
            claimDetailsCorrectRaisedOn: '22/02/2023 15:22',
            claimUrnResult: 'URNURN',
            claimUrnResultRaisedOn: '22/02/2023 15:22',
            claimVetName: 'ssdaje',
            claimVetNameRaisedOn: '22/02/2023 15:22',
            claimVetRcvs: '1111112',
            claimVetRcvsRaisedOn: '22/02/2023 15:22',
            claimVisitDate: '22/02/2023',
            claimVisitDateRaisedOn: '22/02/2023 15:22',
            confirmCheckDetails: 'yes',
            confirmCheckDetailsRaisedOn: '22/02/2023 15:22',
            cph: undefined,
            declaration: 'yes',
            declarationRaisedOn: '22/02/2023 15:22',
            eligibleSpecies: 'yes',
            eligibleSpeciesRaisedOn: '22/02/2023 15:22',
            email: '1100000212@email.com',
            orgEmail: '',
            farmer: 'Mr Farmer 212',
            name: 'My Farm Batch 7 Ltd',
            sbi: '105000202',
            whichReview: 'pigs',
            whichReviewRaisedOn: '22/02/2023 15:22',
            applicationWithdrawn: 'no',
            applicationWithdrawnBy: 'n/a',
            applicationWithdrawnOn: 'n/a',
            claimApproved: 'no',
            claimApprovedBy: 'n/a',
            claimApprovedOn: 'n/a',
            claimRejected: 'no',
            claimRejectedBy: 'n/a',
            claimRejectedOn: 'n/a',
            agreementCurrentStatus: 'RECOMMENDED TO REJECT',
            recommendedToPay: '',
            recommendedToReject: 'yes',
            recommendedOn: '24/05/2023 15:12',
            recommendedBy: 'Developer'
          }
        ]
      }
    },
    {
      toString: () => 'no events',
      given: {
        events: []
      },
      expect: {
        parsedEvents: []
      }
    },
    {
      toString: () => 'only one "auto-eligibility" event',
      given: {
        events: [
          {
            partitionKey: '105000245',
            rowKey: '105000245_1678279689481',
            timestamp: '2023-03-08T12:48:09.793288Z',
            SessionId: '105000245_1100000255',
            EventType: 'auto-eligibility:no_match',
            EventRaised: '2023-03-08T12:48:09.481Z',
            EventBy: '1100000255@email.com',
            Payload: '{"type":"auto-eligibility:no_match","message":"The customer has been recognised as ineligible","data":{"sbi":"105000245","crn":"1100000255","businessEmail":"1100000255@email.com","interestRegisteredAt":"2023-03-08T12:48:09.479Z","onWaitingList":false,"waitingUpdatedAt":"n/a","eligible":false,"ineligibleReason":"No match against data warehouse","accessGranted":false,"accessGrantedAt":"n/a"},"raisedBy":"1100000255@email.com","raisedOn":"2023-03-08T12:48:09.481Z"}',
            Status: 'success'
          }
        ]
      },
      expect: {
        parsedEvents: []
      }
    },
    {
      toString: () => 'test comma escape character handling',
      given: {
        events: [{
          partitionKey: '105000202',
          rowKey: '105000202_1677079362767',
          timestamp: '2023-02-22T15:22:44.2239407Z',
          SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
          EventType: 'claim-vetName',
          EventRaised: '2023-02-22T15:22:42.767Z',
          EventBy: '1100000212@email.com',
          Payload: `{
            "type":"claim-vetName",
            "message":"Session set for claim and vetName.",
            "data":{"vetName":"something, something"},
            "raisedBy":"1100000212@email.com",
            "raisedOn":"2023-02-22T15:22:42.767Z"
          }`,
          Status: 'success'
        }, {
          partitionKey: '105000202',
          rowKey: '105000202_1677079368560',
          timestamp: '2023-02-22T15:22:49.5269033Z',
          SessionId: 'a59f7225-24f2-498c-be2e-2de408c15d03',
          EventType: 'claim-urnResult',
          EventRaised: '2023-02-22T15:22:48.560Z',
          EventBy: '1100000212@email.com',
          Payload: `{
            "type":"claim-urnResult",
            "message":"Session set for claim and urnResult.",
            "data":{"urnResult":"URNURN, URNURN"},
            "raisedBy":"1100000212@email.com",
            "raisedOn":"2023-02-22T15:22:48.560Z"
          }`,
          Status: 'success'
        }]
      },
      expect: {
        parsedEvents: [
          {
            address: undefined,
            applicationNumber: '',
            claimClaimed: '',
            claimClaimedRaisedOn: '',
            claimDateOfTesting: 'Unknown',
            claimDateOfTestingRaisedOn: '',
            claimDetailsCorrect: '',
            claimDetailsCorrectRaisedOn: '',
            claimUrnResult: 'URNURN URNURN',
            claimUrnResultRaisedOn: '22/02/2023 15:22',
            claimVetName: 'something something',
            claimVetNameRaisedOn: '22/02/2023 15:22',
            claimVetRcvs: '',
            claimVetRcvsRaisedOn: '',
            claimVisitDate: 'Unknown',
            claimVisitDateRaisedOn: '',
            confirmCheckDetails: '',
            confirmCheckDetailsRaisedOn: '',
            cph: undefined,
            declaration: 'no',
            declarationRaisedOn: '',
            eligibleSpecies: '',
            eligibleSpeciesRaisedOn: '',
            email: undefined,
            orgEmail: '',
            farmer: undefined,
            name: undefined,
            sbi: undefined,
            whichReview: '',
            whichReviewRaisedOn: '',
            applicationWithdrawn: 'no',
            applicationWithdrawnBy: 'n/a',
            applicationWithdrawnOn: 'n/a',
            claimApproved: 'no',
            claimApprovedBy: 'n/a',
            claimApprovedOn: 'n/a',
            claimRejected: 'no',
            claimRejectedBy: 'n/a',
            claimRejectedOn: 'n/a',
            agreementCurrentStatus: 'n/a',
            recommendedToPay: '',
            recommendedToReject: '',
            recommendedOn: '',
            recommendedBy: ''
          }
        ]
      }
    },
    {
      toString: () => 'apply then withdrawn then re-apply',
      given: {
        events: [
          {
            partitionKey: '100000216',
            rowKey: '100000216_1678374039862',
            timestamp: '2023-03-09T15:00:42.3280273Z',
            SessionId: '047e3efc-a41a-4205-8f6e-696fd71c4ae6',
            EventType: 'farmerApplyData-organisation',
            EventRaised: '2023-03-09T15:00:39.862Z',
            EventBy: 'business@email.com',
            Payload: '{"type":"farmerApplyData-organisation","message":"Session set for farmerApplyData and organisation.","data":{"organisation":{"farmerName":"Chris Smith","name":"Chris Farm","sbi":"100000216","crn":"1000000216","address":"Some Road, London, MK45 9ES","email":"business@email.com"}},"raisedBy":"business@email.com","raisedOn":"2023-03-09T15:00:39.862Z"}',
            Status: 'success'
          },
          {
            partitionKey: '100000216',
            rowKey: '100000216_1678374044646',
            timestamp: '2023-03-09T15:00:45.8588615Z',
            SessionId: '047e3efc-a41a-4205-8f6e-696fd71c4ae6',
            EventType: 'farmerApplyData-confirmCheckDetails',
            EventRaised: '2023-03-09T15:00:44.646Z',
            EventBy: 'business@email.com',
            Payload: '{"type":"farmerApplyData-confirmCheckDetails","message":"Session set for farmerApplyData and confirmCheckDetails.","data":{"confirmCheckDetails":"yes"},"raisedBy":"business@email.com","raisedOn":"2023-03-09T15:00:44.646Z"}',
            Status: 'success'
          },
          {
            partitionKey: '100000216',
            rowKey: '100000216_1678374049390',
            timestamp: '2023-03-09T15:00:50.8927734Z',
            SessionId: '047e3efc-a41a-4205-8f6e-696fd71c4ae6',
            EventType: 'farmerApplyData-whichReview',
            EventRaised: '2023-03-09T15:00:49.390Z',
            EventBy: 'business@email.com',
            Payload: '{"type":"farmerApplyData-whichReview","message":"Session set for farmerApplyData and whichReview.","data":{"whichReview":"pigs"},"raisedBy":"business@email.com","raisedOn":"2023-03-09T15:00:49.390Z"}',
            Status: 'success'
          },
          {
            partitionKey: '100000216',
            rowKey: '100000216_1678374052710',
            timestamp: '2023-03-09T15:00:53.5071695Z',
            SessionId: '047e3efc-a41a-4205-8f6e-696fd71c4ae6',
            EventType: 'farmerApplyData-eligibleSpecies',
            EventRaised: '2023-03-09T15:00:52.710Z',
            EventBy: 'business@email.com',
            Payload: '{"type":"farmerApplyData-eligibleSpecies","message":"Session set for farmerApplyData and eligibleSpecies.","data":{"eligibleSpecies":"yes"},"raisedBy":"business@email.com","raisedOn":"2023-03-09T15:00:52.710Z"}',
            Status: 'success'
          },
          {
            partitionKey: '100000216',
            rowKey: '100000216_1678374054951',
            timestamp: '2023-03-09T15:00:56.6172616Z',
            SessionId: '047e3efc-a41a-4205-8f6e-696fd71c4ae6',
            EventType: 'farmerApplyData-reference',
            EventRaised: '2023-03-09T15:00:54.951Z',
            EventBy: 'business@email.com',
            Payload: '{"type":"farmerApplyData-reference","message":"Session set for farmerApplyData and reference.","data":{"reference":null},"raisedBy":"business@email.com","raisedOn":"2023-03-09T15:00:54.951Z"}',
            Status: 'success'
          },
          {
            partitionKey: '100000216',
            rowKey: '100000216_1678374059280',
            timestamp: '2023-03-09T15:00:59.9282305Z',
            SessionId: '047e3efc-a41a-4205-8f6e-696fd71c4ae6',
            EventType: 'farmerApplyData-declaration',
            EventRaised: '2023-03-09T15:00:59.280Z',
            EventBy: 'business@email.com',
            Payload: '{"type":"farmerApplyData-declaration","message":"Session set for farmerApplyData and declaration.","data":{"declaration":true},"raisedBy":"business@email.com","raisedOn":"2023-03-09T15:00:59.280Z"}',
            Status: 'success'
          },
          {
            partitionKey: '100000216',
            rowKey: '100000216_1678374059281',
            timestamp: '2023-03-09T15:00:59.8832585Z',
            SessionId: '047e3efc-a41a-4205-8f6e-696fd71c4ae6',
            EventType: 'farmerApplyData-offerStatus',
            EventRaised: '2023-03-09T15:00:59.281Z',
            EventBy: 'business@email.com',
            Payload: '{"type":"farmerApplyData-offerStatus","message":"Session set for farmerApplyData and offerStatus.","data":{"offerStatus":"accepted"},"raisedBy":"business@email.com","raisedOn":"2023-03-09T15:00:59.281Z"}',
            Status: 'success'
          },
          {
            partitionKey: '100000216',
            rowKey: '100000216_1678374061126',
            timestamp: '2023-03-09T15:01:02.2358151Z',
            SessionId: 'f8c2dd6b-f7e1-4ac6-b485-bb6e37c8c67c',
            EventType: 'application:status-updated:1',
            EventRaised: '2023-03-09T15:01:01.126Z',
            EventBy: 'admin',
            Payload: '{"type":"application:status-updated:1","message":"New application has been created","data":{"reference":"AHWR-F8C2-DD6B","statusId":1},"raisedBy":"admin","raisedOn":"2023-03-09T15:01:01.126Z","timestamp":"2023-03-09T15:01:01.478Z"}',
            Status: 'success'
          },
          {
            partitionKey: '100000216',
            rowKey: '100000216_1678374063563',
            timestamp: '2023-03-09T15:01:04.2605736Z',
            SessionId: '047e3efc-a41a-4205-8f6e-696fd71c4ae6',
            EventType: 'farmerApplyData-reference',
            EventRaised: '2023-03-09T15:01:03.563Z',
            EventBy: 'business@email.com',
            Payload: '{"type":"farmerApplyData-reference","message":"Session set for farmerApplyData and reference.","data":{"reference":"AHWR-F8C2-DD6B"},"raisedBy":"business@email.com","raisedOn":"2023-03-09T15:01:03.563Z"}',
            Status: 'success'
          },
          {
            partitionKey: '100000216',
            rowKey: '100000216_1678374142009',
            timestamp: '2023-03-09T15:02:22.9728995Z',
            SessionId: 'f8c2dd6b-f7e1-4ac6-b485-bb6e37c8c67c',
            EventType: 'application:status-updated:2',
            EventRaised: '2023-03-09T15:02:22.009Z',
            EventBy: 'Christopher Smith (Kainos)',
            Payload: '{"type":"application:status-updated:2","message":"Application has been updated","data":{"reference":"AHWR-F8C2-DD6B","statusId":2},"raisedBy":"Christopher Smith (Kainos)","raisedOn":"2023-03-09T15:02:22.009Z","timestamp":"2023-03-09T15:02:22.184Z"}',
            Status: 'success'
          },
          {
            partitionKey: '100000216',
            rowKey: '100000216_1678375406431',
            timestamp: '2023-03-09T15:23:27.0551118Z',
            SessionId: '047e3efc-a41a-4205-8f6e-696fd71c4ae6',
            EventType: 'farmerApplyData-organisation',
            EventRaised: '2023-03-09T15:23:26.431Z',
            EventBy: 'business@email.com',
            Payload: '{"type":"farmerApplyData-organisation","message":"Session set for farmerApplyData and organisation.","data":{"organisation":{"farmerName":"Chris Smith","name":"Chris Farm","sbi":"100000216","crn":"1000000216","address":"Some Road, London, MK45 9ES","email":"business@email.com"}},"raisedBy":"business@email.com","raisedOn":"2023-03-09T15:23:26.431Z"}',
            Status: 'success'
          },
          {
            partitionKey: '100000216',
            rowKey: '100000216_1678375410060',
            timestamp: '2023-03-09T15:23:30.5841157Z',
            SessionId: '047e3efc-a41a-4205-8f6e-696fd71c4ae6',
            EventType: 'farmerApplyData-confirmCheckDetails',
            EventRaised: '2023-03-09T15:23:30.060Z',
            EventBy: 'business@email.com',
            Payload: '{"type":"farmerApplyData-confirmCheckDetails","message":"Session set for farmerApplyData and confirmCheckDetails.","data":{"confirmCheckDetails":"yes"},"raisedBy":"business@email.com","raisedOn":"2023-03-09T15:23:30.060Z"}',
            Status: 'success'
          },
          {
            partitionKey: '100000216',
            rowKey: '100000216_1678375412453',
            timestamp: '2023-03-09T15:23:32.9167963Z',
            SessionId: '047e3efc-a41a-4205-8f6e-696fd71c4ae6',
            EventType: 'farmerApplyData-whichReview',
            EventRaised: '2023-03-09T15:23:32.453Z',
            EventBy: 'business@email.com',
            Payload: '{"type":"farmerApplyData-whichReview","message":"Session set for farmerApplyData and whichReview.","data":{"whichReview":"pigs"},"raisedBy":"business@email.com","raisedOn":"2023-03-09T15:23:32.453Z"}',
            Status: 'success'
          },
          {
            partitionKey: '100000216',
            rowKey: '100000216_1678375414251',
            timestamp: '2023-03-09T15:23:34.7597531Z',
            SessionId: '047e3efc-a41a-4205-8f6e-696fd71c4ae6',
            EventType: 'farmerApplyData-eligibleSpecies',
            EventRaised: '2023-03-09T15:23:34.251Z',
            EventBy: 'business@email.com',
            Payload: '{"type":"farmerApplyData-eligibleSpecies","message":"Session set for farmerApplyData and eligibleSpecies.","data":{"eligibleSpecies":"yes"},"raisedBy":"business@email.com","raisedOn":"2023-03-09T15:23:34.251Z"}',
            Status: 'success'
          },
          {
            partitionKey: '100000216',
            rowKey: '100000216_1678375418483',
            timestamp: '2023-03-09T15:23:38.9623756Z',
            SessionId: '047e3efc-a41a-4205-8f6e-696fd71c4ae6',
            EventType: 'farmerApplyData-reference',
            EventRaised: '2023-03-09T15:23:38.483Z',
            EventBy: 'business@email.com',
            Payload: '{"type":"farmerApplyData-reference","message":"Session set for farmerApplyData and reference.","data":{"reference":null},"raisedBy":"business@email.com","raisedOn":"2023-03-09T15:23:38.483Z"}',
            Status: 'success'
          },
          {
            partitionKey: '100000216',
            rowKey: '100000216_1678375421039',
            timestamp: '2023-03-09T15:23:41.739803Z',
            SessionId: '047e3efc-a41a-4205-8f6e-696fd71c4ae6',
            EventType: 'farmerApplyData-declaration',
            EventRaised: '2023-03-09T15:23:41.039Z',
            EventBy: 'business@email.com',
            Payload: '{"type":"farmerApplyData-declaration","message":"Session set for farmerApplyData and declaration.","data":{"declaration":true},"raisedBy":"business@email.com","raisedOn":"2023-03-09T15:23:41.039Z"}',
            Status: 'success'
          },
          {
            partitionKey: '100000216',
            rowKey: '100000216_1678375421040',
            timestamp: '2023-03-09T15:23:41.4659578Z',
            SessionId: '047e3efc-a41a-4205-8f6e-696fd71c4ae6',
            EventType: 'farmerApplyData-offerStatus',
            EventRaised: '2023-03-09T15:23:41.040Z',
            EventBy: 'business@email.com',
            Payload: '{"type":"farmerApplyData-offerStatus","message":"Session set for farmerApplyData and offerStatus.","data":{"offerStatus":"accepted"},"raisedBy":"business@email.com","raisedOn":"2023-03-09T15:23:41.040Z"}',
            Status: 'success'
          },
          {
            partitionKey: '100000216',
            rowKey: '100000216_1678375422820',
            timestamp: '2023-03-09T15:23:43.5018057Z',
            SessionId: '8332f439-eb1b-4b3e-89e8-f75962705ee3',
            EventType: 'application:status-updated:1',
            EventRaised: '2023-03-09T15:23:42.820Z',
            EventBy: 'admin',
            Payload: '{"type":"application:status-updated:1","message":"New application has been created","data":{"reference":"AHWR-8332-F439","statusId":1},"raisedBy":"admin","raisedOn":"2023-03-09T15:23:42.820Z","timestamp":"2023-03-09T15:23:42.975Z"}',
            Status: 'success'
          },
          {
            partitionKey: '100000216',
            rowKey: '100000216_1678375424299',
            timestamp: '2023-03-09T15:23:44.6671467Z',
            SessionId: '047e3efc-a41a-4205-8f6e-696fd71c4ae6',
            EventType: 'farmerApplyData-reference',
            EventRaised: '2023-03-09T15:23:44.299Z',
            EventBy: 'business@email.com',
            Payload: '{"type":"farmerApplyData-reference","message":"Session set for farmerApplyData and reference.","data":{"reference":"AHWR-8332-F439"},"raisedBy":"business@email.com","raisedOn":"2023-03-09T15:23:44.299Z"}',
            Status: 'success'
          }
        ]
      },
      expect: {
        parsedEvents: [
          {
            address: 'Some Road"," London"," MK45 9ES',
            applicationNumber: 'AHWR-F8C2-DD6B',
            claimClaimed: '',
            claimClaimedRaisedOn: '',
            claimDateOfTesting: 'Unknown',
            claimDateOfTestingRaisedOn: '',
            claimDetailsCorrect: '',
            claimDetailsCorrectRaisedOn: '',
            claimUrnResult: '',
            claimUrnResultRaisedOn: '',
            claimVetName: '',
            claimVetNameRaisedOn: '',
            claimVetRcvs: '',
            claimVetRcvsRaisedOn: '',
            claimVisitDate: 'Unknown',
            claimVisitDateRaisedOn: '',
            confirmCheckDetails: 'yes',
            confirmCheckDetailsRaisedOn: '09/03/2023 15:00',
            cph: undefined,
            declaration: 'yes',
            declarationRaisedOn: '09/03/2023 15:00',
            eligibleSpecies: 'yes',
            eligibleSpeciesRaisedOn: '09/03/2023 15:00',
            email: 'business@email.com',
            orgEmail: '',
            farmer: 'Chris Smith',
            name: 'Chris Farm',
            sbi: '100000216',
            whichReview: 'pigs',
            whichReviewRaisedOn: '09/03/2023 15:00',
            claimRejected: 'no',
            claimRejectedBy: 'n/a',
            claimRejectedOn: 'n/a',
            claimApproved: 'no',
            claimApprovedBy: 'n/a',
            claimApprovedOn: 'n/a',
            applicationWithdrawn: 'yes',
            applicationWithdrawnBy: 'Christopher Smith (Kainos)',
            applicationWithdrawnOn: '09/03/2023 15:02',
            agreementCurrentStatus: 'WITHDRAWN',
            recommendedToPay: '',
            recommendedToReject: '',
            recommendedOn: '',
            recommendedBy: ''
          },
          {
            address: 'Some Road"," London"," MK45 9ES',
            applicationNumber: 'AHWR-8332-F439',
            claimClaimed: '',
            claimClaimedRaisedOn: '',
            claimDateOfTesting: 'Unknown',
            claimDateOfTestingRaisedOn: '',
            claimDetailsCorrect: '',
            claimDetailsCorrectRaisedOn: '',
            claimUrnResult: '',
            claimUrnResultRaisedOn: '',
            claimVetName: '',
            claimVetNameRaisedOn: '',
            claimVetRcvs: '',
            claimVetRcvsRaisedOn: '',
            claimVisitDate: 'Unknown',
            claimVisitDateRaisedOn: '',
            confirmCheckDetails: 'yes',
            confirmCheckDetailsRaisedOn: '09/03/2023 15:23',
            cph: undefined,
            declaration: 'yes',
            declarationRaisedOn: '09/03/2023 15:23',
            eligibleSpecies: 'yes',
            eligibleSpeciesRaisedOn: '09/03/2023 15:23',
            email: 'business@email.com',
            orgEmail: '',
            farmer: 'Chris Smith',
            name: 'Chris Farm',
            sbi: '100000216',
            whichReview: 'pigs',
            whichReviewRaisedOn: '09/03/2023 15:23',
            claimRejected: 'no',
            claimRejectedBy: 'n/a',
            claimRejectedOn: 'n/a',
            claimApproved: 'no',
            claimApprovedBy: 'n/a',
            claimApprovedOn: 'n/a',
            applicationWithdrawn: 'no',
            applicationWithdrawnBy: 'n/a',
            applicationWithdrawnOn: 'n/a',
            agreementCurrentStatus: 'AGREED',
            recommendedToPay: '',
            recommendedToReject: '',
            recommendedOn: '',
            recommendedBy: ''
          }
        ]
      }
    }
  ])('%s', async (testCase) => {
    const parsedEvents = parseEvents(testCase.given.events)
    expect(parsedEvents).toEqual(testCase.expect.parsedEvents)
  })
})
